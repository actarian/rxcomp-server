/**
 * @license rxcomp-server v1.0.0-beta.12
 * (c) 2020 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var s=function(){function t(t){this.url="",this.status=0,this.statusText="",this.ok=!1,this.redirected=!1,this.data=null,t&&(this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.ok=t.ok,this.redirected=t.redirected)}var e,n,o;return e=t,(n=[{key:"static",get:function(){return this.url.indexOf(".json")===this.url.length-5}}])&&r(e.prototype,n),o&&r(e,o),t}(),i=function(){function t(){}return t.http$=function(t,r,o,i){var u=this;void 0===i&&(i="json"),t=-1!==r.indexOf(".json")?"GET":t;var a=null;return this.pendingRequests$.next(this.pendingRequests$.getValue()+1),n.from(fetch(r,{method:t,headers:{Accept:"application/json","Content-Type":"application/json"},body:-1!==["POST","PUT","PATCH"].indexOf(t)?JSON.stringify(o):void 0}).then((function(t){return a=new s(t),"function"==typeof t[i]?t[i]().then((function(e){return a.data=e,t.ok?Promise.resolve(a):Promise.reject(a)})):Promise.reject(a)}))).pipe(e.catchError((function(t){return console.log("error",t),n.throwError(u.getError(t,a))})),e.finalize((function(){u.pendingRequests$.next(u.pendingRequests$.getValue()-1)})))},t.get$=function(t,e,n){var r=this.query(e);return this.http$("GET",""+t+r,void 0,n)},t.delete$=function(t){return this.http$("DELETE",t)},t.post$=function(t,e){return this.http$("POST",t,e)},t.put$=function(t,e){return this.http$("PUT",t,e)},t.patch$=function(t,e){return this.http$("PATCH",t,e)},t.query=function(t){return""},t.getError=function(t,e){var n="object"==typeof t?t:{};return n.statusCode||(n.statusCode=e?e.status:0),n.statusMessage||(n.statusMessage=e?e.statusText:t),n},t}();i.pendingRequests$=new n.BehaviorSubject(0);var u=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var r=n.prototype;return r.onInit=function(){var t=this;this.items=[],i.get$("http://localhost:5000/data/todos.json").pipe(e.first()).subscribe((function(e){console.log("AppComponent.items",e),t.items=e.data,t.pushChanges()}))},r.onClick=function(t){t.completed=!t.completed,this.pushChanges()},n}(t.Component);u.meta={selector:"[app-component]"};var a=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e}(t.Module);a.meta={imports:[t.CoreModule],declarations:[],bootstrap:u},t.Browser.bootstrap(a)}(rxcomp,rxjs.operators,rxjs);
//# sourceMappingURL=main.min.js.map