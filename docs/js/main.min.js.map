{"version":3,"sources":["test/js/main.browser.ts","../../node_modules/node-fetch/lib/index.mjs","../../node_modules/cross-fetch/dist/node-ponyfill.js","../../test/js/http/http.service.ts","../../test/js/app.component.ts","../../test/js/app.module.ts","../../test/js/main.browser.ts"],"names":["rxcomp","operators","Stream","http","Url","https","zlib","rxjs","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_inheritsLoose","subClass","superClass","prototype","create","constructor","__proto__","hasOwnProperty","call","Readable","BUFFER","Symbol","TYPE","Blob","[object Object]","this","blobParts","arguments","options","buffers","size","a","Number","element","buffer","Buffer","ArrayBuffer","isView","from","byteOffset","byteLength","String","push","concat","type","undefined","toLowerCase","test","Promise","resolve","toString","buf","ab","slice","readable","_read","start","end","relativeStart","relativeEnd","Math","max","min","span","slicedBuffer","blob","FetchError","message","systemError","Error","code","errno","captureStackTrace","convert","defineProperties","toStringTag","value","name","require","e","INTERNALS","PassThrough","Body","body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","isBuffer","disturbed","error","on","err","url","consumeBody","_this4","reject","TypeError","alloc","stream","accum","accumBytes","abort","resTimeout","setTimeout","chunk","clearTimeout","obj","append","delete","get","getAll","has","set","sort","arrayBuffer","clone","instance","p1","p2","bodyUsed","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","then","ct","headers","assign","_this2","JSON","parse","_this3","res","str","charset","exec","pop","convertBody","json","text","mixIn","proto","getOwnPropertyNames","desc","getOwnPropertyDescriptor","global","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","map","MAP","Headers","init","rawHeaders","raw","headerNames","keys","headerName","method","iterator","pairs","pair","Array","join","callback","thisArg","getHeaders","_pairs$i","createHeadersIterator","kind","k","entries","forEach","values","INTERNAL","HeadersIteratorPrototype","index","setPrototypeOf","getPrototypeOf","_INTERNAL","done","exportNodeCompatibleHeaders","hostHeaderKey","INTERNALS$1","STATUS_CODES","Response","opts","status","contentType","statusText","counter","ok","redirected","INTERNALS$2","parse_url","format_url","format","streamDestructionSupported","isRequest","input","Request","parsedURL","href","toUpperCase","inputBody","signal","isAbortSignal","redirect","follow","compress","agent","AbortError","PassThrough$1","resolve_url","fetch","request","protocol","hostname","contentLengthValue","totalBytes","getNodeRequestOptions","send","response","destroy","emit","aborted","abortAndFinalize","finalize","req","reqTimeout","removeEventListener","addEventListener","once","socket","isArray","val","createHeadersLenient","isRedirect","statusCode","location","locationURL","requestOpts","response_options","statusMessage","codings","zlibOptions","flush","Z_SYNC_FLUSH","finishFlush","createGunzip","createBrotliDecompress","createInflate","createInflateRaw","dest","write","writeToStream","n","basedir","module","nodeFetch","freeze","default","nodePonyfill","exports","realFetch","fn","path","base","commonjsRequire","HttpResponse","data","Constructor","protoProps","staticProps","indexOf","HttpService","http$","response_","pendingRequests$","next","getValue","Accept","Content-Type","stringify","catchError","console","log","throwError","getError","get$","query","delete$","post$","put$","patch$","object","BehaviorSubject","AppComponent","_Component","apply","_proto","onInit","items","fill","x","title","completed","random","flag","active","first","subscribe","pushChanges","onClick","item","Component","selector","AppModule","_Module","Module","imports","CoreModule","declarations","bootstrap"],"mappings":"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","file":"docs\\js\\main.min.js","sourcesContent":[null,"import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parse_url(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parse_url(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parse_url(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\nconst resolve_url = Url.resolve;\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tconst locationURL = location === null ? null : resolve_url(request.url, location);\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","var nodeFetch = require('node-fetch')\nvar realFetch = nodeFetch.default || nodeFetch\n\nvar fetch = function (url, options) {\n  // Support schemaless URIs on the server for parity with the browser.\n  // Ex: //github.com/ -> https://github.com/\n  if (/^\\/\\//.test(url)) {\n    url = 'https:' + url\n  }\n  return realFetch.call(this, url, options)\n}\n\nmodule.exports = exports = fetch\nexports.fetch = fetch\nexports.Headers = nodeFetch.Headers\nexports.Request = nodeFetch.Request\nexports.Response = nodeFetch.Response\n\n// Needed for TypeScript consumers without esModuleInterop.\nexports.default = fetch\n","import fetch from 'cross-fetch';\r\nimport { BehaviorSubject, from, Observable, throwError } from 'rxjs';\r\nimport { catchError, finalize } from 'rxjs/operators';\r\n\r\nexport class HttpResponse {\r\n\r\n\tdata?: any;\r\n\turl: string = '';\r\n\tstatus: number = 0;\r\n\tstatusText: string = '';\r\n\tok: boolean = false;\r\n\tredirected: boolean = false;\r\n\r\n\tget static() {\r\n\t\treturn this.url!.indexOf('.json') === this.url!.length - 5;\r\n\t}\r\n\r\n\tconstructor(response: Response) {\r\n\t\tthis.data = null;\r\n\t\tif (response) {\r\n\t\t\tthis.url = response.url;\r\n\t\t\tthis.status = response.status;\r\n\t\t\tthis.statusText = response.statusText;\r\n\t\t\tthis.ok = response.ok;\r\n\t\t\tthis.redirected = response.redirected;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default class HttpService {\r\n\r\n\tstatic pendingRequests$: BehaviorSubject<number> = new BehaviorSubject<number>(0);\r\n\r\n\tstatic http$(method: string, url: string, data?: any, format: string = 'json'): Observable<any> {\r\n\t\tmethod = url.indexOf('.json') !== -1 ? 'GET' : method;\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tlet response_: HttpResponse | null = null;\r\n\t\tthis.pendingRequests$.next(this.pendingRequests$.getValue() + 1);\r\n\t\treturn from(fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\r\n\t\t}).then((response: Response) => {\r\n\t\t\tresponse_ = new HttpResponse(response);\r\n\t\t\tif (typeof (response as any)[format] === 'function') {\r\n\t\t\t\treturn (response as any)[format]().then((json: any) => {\r\n\t\t\t\t\tresponse_!.data = json;\r\n\t\t\t\t\tif (response.ok) {\r\n\t\t\t\t\t\treturn Promise.resolve(response_);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Promise.reject(response_);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn Promise.reject(response_);\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\tconsole.log('error', error);\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t}),\r\n\t\t\tfinalize(() => {\r\n\t\t\t\tthis.pendingRequests$.next(this.pendingRequests$.getValue() - 1);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic get$(url: string, data?: any, format?: string): Observable<any> {\r\n\t\tconst query = this.query(data);\r\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\r\n\t}\r\n\r\n\tstatic delete$(url: string): Observable<any> {\r\n\t\treturn this.http$('DELETE', url);\r\n\t}\r\n\r\n\tstatic post$(url: string, data?: any): Observable<any> {\r\n\t\treturn this.http$('POST', url, data);\r\n\t}\r\n\r\n\tstatic put$(url: string, data?: any): Observable<any> {\r\n\t\treturn this.http$('PUT', url, data);\r\n\t}\r\n\r\n\tstatic patch$(url: string, data?: any): Observable<any> {\r\n\t\treturn this.http$('PATCH', url, data);\r\n\t}\r\n\r\n\tstatic query(data: any): string {\r\n\t\treturn ''; // todo\r\n\t}\r\n\r\n\tstatic getError(object: any, response: HttpResponse | null): any {\r\n\t\tlet error = typeof object === 'object' ? object : {};\r\n\t\tif (!error.statusCode) {\r\n\t\t\terror.statusCode = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusMessage) {\r\n\t\t\terror.statusMessage = response ? response.statusText : object;\r\n\t\t}\r\n\t\t// console.log('HttpService.getError', error, object);\r\n\t\treturn error;\r\n\t}\r\n\r\n}\r\n","import { Component, IFactoryMeta } from 'rxcomp';\r\nimport { first } from 'rxjs/operators';\r\nimport HttpService from './http/http.service';\r\n\r\nexport default class AppComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.items = new Array(4).fill(0).map((x, i) => {\r\n\t\t\treturn { title: `item ${i + 1}`, completed: Math.random() > 0.75 };\r\n\t\t});\r\n\t\tthis.flag = true;\r\n\t\tthis.active = false;\r\n\t\t// console.log('AppComponent.onInit', this);\r\n\t\tHttpService.get$('https://jsonplaceholder.typicode.com/users/1/todos').pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(response => {\r\n\t\t\tconsole.log('AppComponent.items', response);\r\n\t\t\tthis.items = response.data;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonClick(item: { title: string, completed: boolean }) {\r\n\t\tconsole.log('onClick', item);\r\n\t}\r\n\r\n\tstatic meta: IFactoryMeta = {\r\n\t\tselector: '[app-component]',\r\n\t};\r\n\r\n}\r\n","import { CoreModule, IModuleMeta, Module } from 'rxcomp';\r\nimport AppComponent from './app.component';\r\n\r\nexport default class AppModule extends Module {\r\n\r\n\tstatic meta: IModuleMeta = {\r\n\t\timports: [\r\n\t\t\tCoreModule,\r\n\t\t],\r\n\t\tdeclarations: [\r\n\t\t],\r\n\t\tbootstrap: AppComponent,\r\n\t};\r\n\r\n}\r\n","import { Browser } from 'rxcomp';\r\nimport AppModule from './app.module';\r\n\r\nconsole.log('browser!');\r\n\r\nif (false) {\r\n\tBrowser.bootstrap(AppModule);\r\n}\r\n"]}