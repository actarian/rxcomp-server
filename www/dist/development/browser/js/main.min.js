/**
 * @license rxcomp-server v1.0.0-beta.13
 * (c) 2020 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(e,t,r){"use strict";var n="default"in e?e.default:e,o="default"in t?t.default:t,s="default"in r?r.default:r;function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var c=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function l(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return a}function d(e){return this instanceof d?(this.v=e,this):new d(e)}var h=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};var y,v=Object.freeze({__proto__:null,__extends:function(e,t){function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},get __assign(){return p},__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},__decorate:function(e,t,r,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,r,a):o(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},__param:function(e,t){return function(r,n){t(r,n,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function i(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,i)}u((n=n.apply(e,t||[])).next())}))},__generator:function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},__createBinding:c,__exportStar:function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||c(t,e,r)},__values:l,__read:f,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,o++)n[o]=s[a];return n},__await:d,__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||i(e,t)}))})}function i(e,t){try{(r=o[e](t)).value instanceof d?Promise.resolve(r.value.v).then(u,p):c(s[0][2],r)}catch(e){c(s[0][3],e)}var r}function u(e){i("next",e)}function p(e){i("throw",e)}function c(e,t){e(t),s.shift(),s.length&&i(s[0][0],s[0][1])}},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:d(e[n](t)),done:"return"===n}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=l(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&c(t,e,r);return h(t,e),t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}}),b=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpEventType=void 0,function(e){e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e[e.ResponseError=6]="ResponseError"}(t.HttpEventType||(t.HttpEventType={}))})),m=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpHeaders=void 0;var r=function(){function e(t){var r,n=this;this.headers_=new Map;var o=this.headers_;t instanceof e?t.headers_.forEach((function(e,t){o.set(t,e)})):"function"==typeof(null===(r=t)||void 0===r?void 0:r.forEach)?t.forEach((function(e,t){o.set(t,e.split(", "))})):"object"==typeof t?Object.keys(t).forEach((function(e){var r=t[e];"string"==typeof r&&(r=[r]),o.has(e)?r.forEach((function(t){return n.append(e,t)})):o.set(e,r)})):"string"==typeof t&&t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),s=e.slice(t+1).trim();o.has(r)?n.append(r,s):o.set(r,[s])}})),o.has("Accept")||o.set("Accept",["application/json","text/plain","*/*"]),o.has("Content-Type")||o.set("Content-Type",["application/json"])}return e.prototype.has=function(e){return this.headers_.has(e)},e.prototype.get=function(e){var t=this.headers_.get(e);return t?t.join(", "):null},e.prototype.set=function(e,t){var r=this.clone_();return r.headers_.set(e,t.split(", ")),r},e.prototype.append=function(e,t){var r=this.clone_(),n=r.headers_.has(e)&&r.headers_.get(e)||[];return n.push(t),r.headers_.set(e,n),r},e.prototype.delete=function(e){var t=this.clone_();return t.headers_.delete(e),t},e.prototype.forEach=function(e,t){var r=this;this.headers_.forEach((function(t,n){e(t.join(", "),n,r)}))},e.prototype.serialize=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),e},e.prototype.toObject=function(){var e={};return this.forEach((function(t,r){e[r]=t})),e},e.prototype.clone_=function(){var t=new e;return this.headers_.forEach((function(e,r){t.headers_.set(r,e)})),t},e}();t.HttpHeaders=r})),g=(y=v)&&y.default||y,H=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpErrorResponse=void 0;var r=function(e){function t(t){var r=e.call(this,(null==t?void 0:t.message)||"Unknown Error")||this;return r.status=0,r.statusText="Unknown Error",r.ok=!1,r.type=b.HttpEventType.ResponseError,r.message="Unknown Error",r.name="HttpErrorResponse",t&&(r.headers=new m.HttpHeaders(t.headers),r.status=t.status||r.status,r.statusText=t.statusText||r.statusText,r.url=t.url||r.url,r.error=t.error||r.error,r.name=t.name||r.name,r.request=t.request||null),r}return g.__extends(t,e),t.prototype.clone=function(e){return new t(e=Object.assign({headers:this.headers,status:this.status,statusText:this.statusText,url:this.url,error:this.error,message:this.message,name:this.name,request:this.request},e||{}))},t}(Error);t.HttpErrorResponse=r})),_=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpResponseBase=t.HttpResponse=t.HttpHeaderResponse=void 0;var r=function(){function e(e){this.status=200,this.statusText="OK",this.type=b.HttpEventType.ResponseHeader,e&&(this.headers=new m.HttpHeaders(e.headers),this.status=e.status||this.status,this.statusText=e.statusText||this.statusText,this.url=e.url||this.url),this.ok=this.status>=200&&this.status<300}return e.prototype.clone=function(t){return new e(t=Object.assign({headers:this.headers,status:this.status,statusText:this.statusText,url:this.url,ok:this.ok,type:this.type},t||{}))},e}();t.HttpHeaderResponse=r;var n=function(){function e(e){this.status=200,this.statusText="OK",this.type=b.HttpEventType.Response,this.body=null,e&&(this.headers=new m.HttpHeaders(e.headers),this.status=e.status||this.status,this.statusText=e.statusText||this.statusText,this.url=e.url||this.url,this.body=e.body||this.body),this.ok=this.status>=200&&this.status<300}return e.prototype.clone=function(t){return new e(t=Object.assign({headers:this.headers,status:this.status,statusText:this.statusText,url:this.url,ok:this.ok,type:this.type,body:this.body},t||{}))},e.prototype.toObject=function(){var e={};return e.url=this.url,e.headers=this.headers.toObject(),e.status=this.status,e.statusText=this.statusText,e.ok=this.ok,e.type=this.type,e.body=this.body,e},e}();t.HttpResponse=n;var o=function(e,t,r){void 0===t&&(t=200),void 0===r&&(r="OK"),this.status=200,this.statusText="OK",this.headers=e.headers||new m.HttpHeaders,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||void 0,this.ok=this.status>=200&&this.status<300};t.HttpResponseBase=o})),w=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpFetchHandler=void 0;var r=function(){function e(){this.response_=null}return e.prototype.handle=function(e){var t=this;if(!e.method)throw new Error("missing method");var r=e.urlWithParams,a=e.toInitRequest(),i=n.TransferService.makeKey(e.transferKey);if(n.isPlatformBrowser&&e.hydrate&&n.TransferService.has(i)){var u=n.TransferService.get(i);return n.TransferService.remove(i),o.of(u)}return o.from(fetch(r,a).then((function(r){return t.getProgress(r,e)})).then((function(r){return t.getResponse(r,e)}))).pipe(s.tap((function(t){n.isPlatformServer&&e.hydrate&&n.TransferService.set(i,t.toObject())})),s.catchError((function(r){var s={error:r};t.response_&&(s.headers=t.response_.headers,s.status=t.response_.status,s.statusText=t.response_.statusText,s.url=t.response_.url,s.request=e);var a=new H.HttpErrorResponse(s);return n.nextError$.next(a),o.of(t.response_)})),s.finalize((function(){t.response_=null})))},e.prototype.getProgress=function(e,t){var r=this,o=e.clone().body;if(n.isPlatformBrowser&&t.reportProgress&&o){var s=o.getReader(),a=e.headers&&e.headers.has("Content-Length")?+(e.headers.get("Content-Length")||0):0;return new Promise((function(n,o){var i={progress:0,percent:0,current:0,total:0};s.read().then((function(t){return function t(r,n){var o=i.current;return n?(i.total=a,i.current=a,i.progress=1,i.percent=100,s.closed.then((function(){return e.clone()}))):(r&&(o+=r.length||0,i.total=a,i.current=o,i.progress=o/a,i.percent=100*i.progress),s.read().then((function(e){var r=e.value,n=e.done;return t(r,n)})))}(t.value,t.done)})).then((function(e){return r.response_=new _.HttpResponse(e),"function"==typeof e[t.responseType]?e[t.responseType]().then((function(t){return r.response_=new _.HttpResponse(Object.assign(r.response_,{body:t})),e.ok?n(r.response_):o(r.response_)})):o(r.response_)})).catch((function(e){return console.log("upload error:",e)}))}))}return Promise.resolve(e)},e.prototype.getResponse=function(e,t){return this.response_=new _.HttpResponse(e),n.isPlatformBrowser&&t.reportProgress&&e.body?Promise.resolve(this.response_):this.getResponseType(e,t)},e.prototype.getResponseType=function(e,t){var r=this;return new Promise((function(n,o){return r.response_=new _.HttpResponse(e),"function"==typeof e[t.responseType]?e[t.responseType]().then((function(t){return r.response_=new _.HttpResponse(Object.assign(r.response_,{body:t})),e.ok?n(r.response_):o(r.response_)})):o(r.response_)}))},e.prototype.getReadableStream=function(e,t){var r=e.body.getReader();return new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var n=r.done,o=r.value;n?e.close():(e.enqueue(o),t())}))}()}})},e}();t.HttpFetchHandler=r})),P=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpXhrHandler=void 0;var r=/^\)\]\}',?\n/,s=function(){function e(){}return e.prototype.handle=function(e){if(!e.method)throw new Error("missing method");if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return console.log("HttpXhrHandler.request",e),new o.Observable((function(t){var o=new XMLHttpRequest,s=e.urlWithParams,a=e.toInitRequest();if(!a.method)throw new Error("missing method");var i=n.TransferService.makeKey(e.transferKey);if(n.isPlatformBrowser&&e.hydrate&&n.TransferService.has(i)){var u=n.TransferService.get(i);return n.TransferService.remove(i),t.next(u),void t.complete()}o.open(a.method,s),e.withCredentials&&(o.withCredentials=!0);var p=e.headers;if(p.has("Accept")||p.set("Accept","application/json, text/plain, */*"),!p.has("Content-Type")){var c=e.detectContentTypeHeader();null!==c&&p.set("Content-Type",c)}console.log("HttpXhrHandler.contentType",p.get("Content-Type")),p.forEach((function(e,t){return o.setRequestHeader(t,e)})),e.responseType&&(o.responseType="json"!==e.responseType?e.responseType:"text");var l=e.serializeBody(),f=null,d=function(){if(null!==f)return f;var t=1223===o.status?204:o.status,r=o.statusText||"OK",n=new m.HttpHeaders(o.getAllResponseHeaders()),s=function(e){if("responseURL"in e&&e.responseURL)return e.responseURL;if(/^X-Request-URL:/m.test(e.getAllResponseHeaders()))return e.getResponseHeader("X-Request-URL");return null}(o)||e.url;return f=new _.HttpHeaderResponse({headers:n,status:t,statusText:r,url:s})},h=function(){var s=d(),a=s.headers,u=s.status,p=s.statusText,c=s.url,l=null;204!==u&&(l=void 0===o.response?o.responseText:o.response),0===u&&(u=l?200:0);var f=u>=200&&u<300;if("json"===e.responseType&&"string"==typeof l){var h=l;l=l.replace(r,"");try{l=""!==l?JSON.parse(l):null}catch(e){l=h,f&&(f=!1,l={error:e,text:l})}}if(f){var y=new _.HttpResponse({body:l,headers:a,status:u,statusText:p,url:c});n.isPlatformServer&&e.hydrate&&n.TransferService.set(i,y),t.next(y),t.complete()}else{var v={error:new Error(p),headers:a,status:u,statusText:p,url:c,request:e},b=new H.HttpErrorResponse(v);n.nextError$.next(b),t.error(b)}},y=function(r){var s=d().url,a=o.statusText||"Unknown Error",i=new m.HttpHeaders(o.getAllResponseHeaders()),u={error:new Error(a),headers:i,status:o.status||0,statusText:a,url:s,request:e},p=new H.HttpErrorResponse(u);n.nextError$.next(p),t.error(p)},v=!1,g=function(r){v||(t.next(d()),v=!0);var n={type:b.HttpEventType.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(n.total=r.total),"text"===e.responseType&&o.responseText&&(n.partialText=o.responseText),console.log(n),t.next(n)},w=function(e){var r={type:b.HttpEventType.UploadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),t.next(r)};return o.addEventListener("load",h),o.addEventListener("error",y),e.reportProgress&&(o.addEventListener("progress",g),null!==l&&o.upload&&o.upload.addEventListener("progress",w)),o.send(l),t.next({type:b.HttpEventType.Sent}),function(){o.removeEventListener("error",y),o.removeEventListener("load",h),e.reportProgress&&(o.removeEventListener("progress",g),null!==l&&o.upload&&o.upload.removeEventListener("progress",w)),o.readyState!==o.DONE&&o.abort()}}))},e}();t.HttpXhrHandler=s})),T=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.jsonpCallbackContext=t.interceptingHandler=t.HttpInterceptingHandler=t.xhrHandler=t.fetchHandler=t.NoopInterceptor=t.HttpInterceptors=t.HttpInterceptorHandler=void 0;var r=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}();t.HttpInterceptorHandler=r,t.HttpInterceptors=[];var n=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e}();t.NoopInterceptor=n,t.fetchHandler=new w.HttpFetchHandler,t.xhrHandler=new P.HttpXhrHandler;var o=function(){function e(){this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var n=t.HttpInterceptors;this.chain=n.reduceRight((function(e,t){return new r(e,t)}),t.fetchHandler)}return this.chain.handle(e)},e}();t.HttpInterceptingHandler=o,t.interceptingHandler=function(e,t){return void 0===t&&(t=[]),t?t.reduceRight((function(e,t){return new r(e,t)}),e):e},t.jsonpCallbackContext=function(){return"object"==typeof window?window:{}}})),j=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=[],o=[],s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g.__extends(t,e),t.useInterceptors=function(e){if(null==e?void 0:e.length){var t=null==e?void 0:e.map((function(e){return new e}));T.HttpInterceptors.push.apply(T.HttpInterceptors,t)}return this},t.meta={declarations:g.__spread(r,o),exports:g.__spread(r,o)},t}(n.Module);t.default=s})),O=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpHandler=void 0;var r=function(){};t.HttpHandler=r})),x=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpParams=t.HttpUrlEncodingCodec=void 0;var r=function(){function e(){}return e.prototype.encodeKey=function(e){return o(e)},e.prototype.encodeValue=function(e){return o(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();t.HttpUrlEncodingCodec=r;var n=function(){function e(t,n){void 0===n&&(n=new r),this.params_=new Map,this.encoder=n;var o=this.params_;t instanceof e?t.params_.forEach((function(e,t){o.set(t,e)})):"object"==typeof t?Object.keys(t).forEach((function(e){var r=t[e];o.set(e,Array.isArray(r)?r:[r])})):"string"==typeof t&&function(e,t,r){if(t.length>0){t.split("&").forEach((function(t){var n=t.indexOf("="),o=g.__read(-1==n?[r.decodeKey(t),""]:[r.decodeKey(t.slice(0,n)),r.decodeValue(t.slice(n+1))],2),s=o[0],a=o[1],i=e.get(s)||[];i.push(a),e.set(s,i)}))}}(o,t,this.encoder)}return e.prototype.keys=function(){return Array.from(this.params_.keys())},e.prototype.has=function(e){return this.params_.has(e)},e.prototype.get=function(e){var t=this.params_.get(e);return t?t[0]:null},e.prototype.getAll=function(e){return this.params_.get(e)||null},e.prototype.set=function(e,t){var r=this.clone_();return r.params_.set(e,[t]),r},e.prototype.append=function(e,t){var r=this.clone_();if(r.has(e)){var n=r.params_.get(e)||[];n.push(t),r.params_.set(e,n)}else r.params_.set(e,[t]);return r},e.prototype.delete=function(e){var t=this.clone_();return t.params_.delete(e),t},e.prototype.toString=function(){var e=this;return this.keys().map((function(t){var r=e.params_.get(t);return e.encoder.encodeKey(t)+(r?"="+r.map((function(t){return e.encoder.encodeValue(t)})).join("&"):"")})).filter((function(e){return""!==e})).join("&")},e.prototype.toObject=function(){var e=this,t={};return this.keys().map((function(r){var n=e.params_.get(r);n&&(t[r]=n)})),t},e.prototype.clone_=function(){var t=new e(void 0,this.encoder);return this.params_.forEach((function(e,r){t.params_.set(r,e)})),t},e}();function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}t.HttpParams=n})),E=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpRequest=void 0;var r=function(){function e(e,t,r,n){this.url=t,this.reportProgress=!1,this.withCredentials=!1,this.hydrate=!0,this.observe="body",this.responseType="json";var o,s=/\.(json|xml|txt)(\?.*)?$/.test(t);this.method=s?"GET":e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,o=n):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.observe=o.observe||this.observe,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=new m.HttpHeaders(o.headers)),o.params&&(this.params=new x.HttpParams(o.params))),this.headers||(this.headers=new m.HttpHeaders),this.params||(this.params=new x.HttpParams);var a=this.params.toString(),i=t.indexOf("?"),u=-1===i?"?":i<t.length-1?"&":"";this.urlWithParams=t+(a.length?u+a:a)}return Object.defineProperty(e.prototype,"transferKey",{get:function(){var e=(function(e){var t,r,n="",o="",s="",a="",i="",u="",p="",c=/^((http\:|https\:)?\/\/)?((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])|(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])|locahost)?(\:([^\/]+))?(\.?\/[^\?]+)?(\?[^\#]+)?(\#.+)?$/g,l=e.matchAll(c);try{for(var f=g.__values(l),d=f.next();!d.done;d=f.next()){var h=d.value;n=h[2]||"",o=s=h[3]||"",a=h[11]||"",i=h[12]||"",u=h[13]||"",p=h[14]||""}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}return{href:e,protocol:n,host:o,hostname:s,port:a,pathname:i,search:u,hash:p}}(this.url).pathname+"_"+a(this.params.toObject())+"_"+a(this.body)).replace(/(\W)/gm,"_");return console.log("transferKey",e,this.url),e},enumerable:!1,configurable:!0}),e.prototype.serializeBody=function(){return null===this.body?null:n(this.body)||o(this.body)||s(this.body)||"string"==typeof this.body?this.body:this.body instanceof x.HttpParams?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},e.prototype.detectContentTypeHeader=function(){return null===this.body||s(this.body)?null:o(this.body)?this.body.type||null:n(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof x.HttpParams?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},e.prototype.toInitRequest=function(){return{method:this.method,headers:this.headers.serialize(),body:this.serializeBody(),mode:"same-origin",credentials:"same-origin",cache:"default",redirect:"error"}},e.prototype.toFetchRequest__=function(){return new Request(this.urlWithParams,this.toInitRequest())},e.prototype.clone=function(t){return t=Object.assign({headers:this.headers,reportProgress:this.reportProgress,params:this.params,responseType:this.responseType,withCredentials:this.withCredentials,observe:this.observe,body:this.body,url:this.url,method:this.method},t||{}),new e(this.method,this.url,this.body,t)},e.prototype.toObject=function(){var e={};return e.url=this.url,e.method=this.method,e.headers=this.headers.toObject(),e.params=this.params.toObject(),e.body=this.body,e.reportProgress=this.reportProgress,e.responseType=this.responseType,e.withCredentials=this.withCredentials,e.observe=this.observe,e},e}();function n(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function o(e){return"undefined"!=typeof Blob&&e instanceof Blob}function s(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e,t){return void 0===t&&(t=""),"number"==typeof e?t+=e.toString():"string"==typeof e?t+=e.substr(0,10):e&&Array.isArray(e)?t+=e.map((function(e){return a(e)})).join(""):e&&"object"==typeof e&&(t+=Object.keys(e).map((function(t){return t+a(e[t])})).join("_")),"_"+t}t.HttpRequest=r})),R=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.incrementPendingRequest=function(){e.pendingRequests$.next(e.pendingRequests$.getValue()+1)},e.decrementPendingRequest=function(){e.pendingRequests$.next(e.pendingRequests$.getValue()-1)},e.request$=function(t,r,n){var a,i=this;if(void 0===n&&(n={}),t instanceof E.HttpRequest)a=t;else{var u=void 0;u=n.headers instanceof m.HttpHeaders?n.headers:new m.HttpHeaders(n.headers);var p=void 0;n.params&&(p=new x.HttpParams(n.params)),a=new E.HttpRequest(t,r,void 0!==n.body?n.body:null,{headers:u,params:p,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}e.incrementPendingRequest();var c,l=o.of(a).pipe(s.concatMap((function(e){return i.handler.handle(e)})),s.finalize((function(){return e.decrementPendingRequest()})));return t instanceof E.HttpRequest||"events"===n.observe?l.pipe(s.catchError((function(e){return console.log("error",e),o.throwError(i.getError(e,null,a))}))):l.pipe(s.filter((function(e){return e instanceof _.HttpResponse}))).pipe(s.map((function(e){switch(c=e,n.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body;case"blob":if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body;case"text":if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body;case"json":default:return e.body}case"response":return e;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}})),s.catchError((function(e){return console.log("error",e),o.throwError(i.getError(e,c,a))})))},e.delete$=function(e,t){return void 0===t&&(t={}),this.request$("DELETE",e,t)},e.get$=function(e,t){return void 0===t&&(t={}),this.request$("GET",e,t)},e.head$=function(e,t){return void 0===t&&(t={}),this.request$("HEAD",e,t)},e.jsonp$=function(e,t){return this.request$("JSONP",e,{params:(new x.HttpParams).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},e.options$=function(e,t){return void 0===t&&(t={}),this.request$("OPTIONS",e,t)},e.patch$=function(e,t,r){return void 0===r&&(r={}),this.request$("PATCH",e,n(r,t))},e.post$=function(e,t,r){return void 0===r&&(r={}),this.request$("POST",e,n(r,t))},e.put$=function(e,t,r){return void 0===r&&(r={}),this.request$("PUT",e,n(r,t))},e.getError=function(e,t,r){e.status||(e.statusCode=(null==t?void 0:t.status)||0),e.statusMessage||(e.statusMessage=(null==t?void 0:t.statusText)||"Unknown Error");var n={error:e,status:e.status,statusText:e.statusText,message:e.message,request:r};return t&&(n.headers=t.headers,n.status=n.status||t.status,n.statusText=n.statusText||t.statusText,n.url=t.url),new H.HttpErrorResponse(n)},e.pendingRequests$=new o.BehaviorSubject(0),e.handler=new T.HttpInterceptingHandler,e}();function n(e,t){return Object.assign({},e,{body:t})}t.default=r})),S=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HttpModule",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"HttpErrorResponse",{enumerable:!0,get:function(){return H.HttpErrorResponse}}),Object.defineProperty(t,"HttpEventType",{enumerable:!0,get:function(){return b.HttpEventType}}),Object.defineProperty(t,"HttpFetchHandler",{enumerable:!0,get:function(){return w.HttpFetchHandler}}),Object.defineProperty(t,"HttpHandler",{enumerable:!0,get:function(){return O.HttpHandler}}),Object.defineProperty(t,"HttpHeaders",{enumerable:!0,get:function(){return m.HttpHeaders}}),Object.defineProperty(t,"fetchHandler",{enumerable:!0,get:function(){return T.fetchHandler}}),Object.defineProperty(t,"HttpInterceptingHandler",{enumerable:!0,get:function(){return T.HttpInterceptingHandler}}),Object.defineProperty(t,"HttpInterceptorHandler",{enumerable:!0,get:function(){return T.HttpInterceptorHandler}}),Object.defineProperty(t,"HttpInterceptors",{enumerable:!0,get:function(){return T.HttpInterceptors}}),Object.defineProperty(t,"interceptingHandler",{enumerable:!0,get:function(){return T.interceptingHandler}}),Object.defineProperty(t,"jsonpCallbackContext",{enumerable:!0,get:function(){return T.jsonpCallbackContext}}),Object.defineProperty(t,"NoopInterceptor",{enumerable:!0,get:function(){return T.NoopInterceptor}}),Object.defineProperty(t,"xhrHandler",{enumerable:!0,get:function(){return T.xhrHandler}}),Object.defineProperty(t,"HttpParams",{enumerable:!0,get:function(){return x.HttpParams}}),Object.defineProperty(t,"HttpUrlEncodingCodec",{enumerable:!0,get:function(){return x.HttpUrlEncodingCodec}}),Object.defineProperty(t,"HttpRequest",{enumerable:!0,get:function(){return E.HttpRequest}}),Object.defineProperty(t,"HttpHeaderResponse",{enumerable:!0,get:function(){return _.HttpHeaderResponse}}),Object.defineProperty(t,"HttpResponse",{enumerable:!0,get:function(){return _.HttpResponse}}),Object.defineProperty(t,"HttpResponseBase",{enumerable:!0,get:function(){return _.HttpResponseBase}}),Object.defineProperty(t,"HttpXhrHandler",{enumerable:!0,get:function(){return P.HttpXhrHandler}}),Object.defineProperty(t,"HttpService",{enumerable:!0,get:function(){return R.default}})})),C="",q="/api",A=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).items=[],e.error=null,e}a(n,t);var o=n.prototype;return o.onInit=function(){var t=this,n=""+C+q;console.log("methodUrl",n),S.HttpService.post$(n,{query:"{ getTodos { id, title, completed } }"},{hydrate:!0}).pipe(r.first()).subscribe((function(e){t.items=e.data.getTodos,t.pushChanges()}),(function(e){return console.log})),e.errors$.pipe(r.takeUntil(this.unsubscribe$)).subscribe((function(e){t.error=e,t.pushChanges()}))},o.onClick=function(e){e.completed=!e.completed,this.pushChanges()},n}(e.Component);A.meta={selector:"[app-component]"};var I=function(){function e(){}return e.prototype.intercept=function(e,t){var r=e.clone({url:e.url});return t.handle(r)},e}(),k=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t}(e.Module);k.meta={imports:[e.CoreModule,S.HttpModule.useInterceptors([I])],declarations:[],bootstrap:A},e.Browser.bootstrap(k)}(rxcomp,rxjs,rxjs.operators);
//# sourceMappingURL=main.min.js.map