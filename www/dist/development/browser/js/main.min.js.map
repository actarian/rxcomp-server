{"version":3,"sources":["www/browser/src/main.browser.ts","../../../rxcomp-http/node_modules/tslib/tslib.es6.js","../../../rxcomp-http/dist/cjs/http/http-event.js","../../../rxcomp-http/dist/cjs/http/http-headers.js","../../../rxcomp-http/dist/cjs/http/http-error-response.js","../../../rxcomp-http/dist/cjs/http/http-response.js","../../../rxcomp-http/dist/cjs/http/http-fetch.handler.js","../../../rxcomp-http/dist/cjs/http/http-xhr.handler.js","../../../rxcomp-http/dist/cjs/http/http-interceptor.js","../../../rxcomp-http/dist/cjs/http.module.js","../../../rxcomp-http/dist/cjs/http/http-handler.js","../../../rxcomp-http/dist/cjs/http/http-params.js","../../../rxcomp-http/dist/cjs/http/http-request.js","../../../rxcomp-http/dist/cjs/http/http.service.js","../../../rxcomp-http/dist/cjs/rxcomp-http.js","../../../browser/src/vars.ts","../../../browser/src/app.component.ts","../../../browser/src/custom-interceptor/custom.interceptor.ts","../../../browser/src/app.module.ts","../../../browser/src/main.browser.ts"],"names":["rxcomp","rxjs","operators","rxcomp__default","rxjs__default","operators__default","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","createCommonjsModule","fn","basedir","module","path","exports","require","base","Error","commonjsRequire","extendStatics","d","b","setPrototypeOf","Array","p","hasOwnProperty","__assign","assign","t","s","i","n","arguments","length","call","apply","this","__createBinding","o","m","k","k2","undefined","defineProperty","enumerable","get","__values","Symbol","iterator","next","value","done","TypeError","__read","r","e","ar","push","error","__await","v","__setModuleDefault","tslib_es6","freeze","__extends","__","_assign","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","result","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","op","pop","__exportStar","__spread","concat","__spreadArrays","il","a","j","jl","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","__importDefault","default","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","httpEvent","HttpEventType","httpHeaders","HttpHeaders","options","_a","_this","headers_","Map","headers","forEach","split","keys","values","append","line","index","slice","trim","join","clone","clone_","delete","callback","serialize","toObject","tslib_1","httpErrorResponse","HttpErrorResponse","_super","message","status","statusText","ok","type","http_event_1","ResponseError","name","http_headers_1","url","request","httpResponse","HttpHeaderResponse","ResponseHeader","HttpResponse","Response","response","HttpResponseBase","defaultStatus","defaultStatusText","httpFetch_handler","HttpFetchHandler","response_","handle","method","requestInfo","urlWithParams","requestInit","toInitRequest","stateKey","rxcomp_1","TransferService","makeKey","transferKey","isPlatformBrowser","hydrate","transfer","http_response_1","remove","rxjs_1","of","from","fetch","getProgress","getResponse","pipe","operators_1","tap","isPlatformServer","catchError","errorResponse","http_error_response_1","nextError$","finalize","clonedBody","reportProgress","reader_1","getReader","contentLength_1","progress","percent","current","total","read","onProgress","receivedLength","closed","responseType","json","catch","err","console","log","getResponseType","getReadableStream","reader","ReadableStream","start","controller","close","enqueue","httpXhr_handler","XSSI_PREFIX","HttpXhrHandler","Observable","observer","xhr","XMLHttpRequest","cached","complete","open","withCredentials","detectedType","detectContentTypeHeader","setRequestHeader","body_1","serializeBody","headerResponse_1","partialFromXhr_1","getAllResponseHeaders","responseURL","test","getResponseHeader","getResponseUrl_","onLoad_1","responseText","originalBody","replace","JSON","parse","text","onError_1","sentHeaders_1","onDownProgress_1","event","progressEvent","DownloadProgress","loaded","lengthComputable","partialText","onUpProgress_1","UploadProgress","addEventListener","upload","send","Sent","removeEventListener","readyState","DONE","abort","httpInterceptor","HttpInterceptorHandler","interceptor","req","intercept","NoopInterceptor","http_fetch_handler_1","http_xhr_handler_1","HttpInterceptingHandler","chain","interceptors","HttpInterceptors","reduceRight","fetchHandler","handler","window","http_module","factories","pipes","HttpModule","useInterceptors","interceptorFactories","map","x","http_interceptor_1","meta","declarations","Module","httpHandler","HttpHandler","httpParams","HttpUrlEncodingCodec","encodeKey","encodeParam_","encodeValue","decodeKey","decodeURIComponent","decodeValue","HttpParams","encoder","params_","params","isArray","queryString","keyValue","parseRawParams_","getAll","toString","filter","encodeURIComponent","httpRequest","HttpRequest","third","fourth","observe","isStaticFile","toUpperCase","methodHasBody_","http_params_1","sep","pathname","getLocationComponents","paramsKey","optionsToKey","bodyKey","matches","_i","configurable","isArrayBuffer_","isBlob_","isFormData_","stringify","mode","credentials","cache","redirect","toFetchRequest__","Request","ArrayBuffer","Blob","FormData","http_service","HttpService","incrementPendingRequest","pendingRequests$","getValue","decrementPendingRequest","request$","first","http_request_1","events$","concatMap","throwError","getError","delete$","get$","head$","jsonp$","callbackParam","options$","patch$","optionsWithBody_","post$","put$","statusCode","statusMessage","BehaviorSubject","rxcompHttp","http_module_1","http_handler_1","interceptingHandler","jsonpCallbackContext","xhrHandler","http_service_1","Vars","AppComponent","_Component","items","_proto","onInit","_this2","methodUrl","query","subscribe","data","getTodos","pushChanges","warn","errors$","takeUntil","unsubscribe$","onClick","item","completed","Component","selector","CustomInterceptor","clonedRequest","AppModule","_Module","imports","CoreModule","bootstrap","Browser"],"mappings":"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","file":"www\\dist\\development\\browser\\js\\main.min.js","sourcesContent":[null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HttpEventType = void 0;\r\nvar HttpEventType;\r\n(function (HttpEventType) {\r\n    HttpEventType[HttpEventType[\"Sent\"] = 0] = \"Sent\";\r\n    HttpEventType[HttpEventType[\"UploadProgress\"] = 1] = \"UploadProgress\";\r\n    HttpEventType[HttpEventType[\"ResponseHeader\"] = 2] = \"ResponseHeader\";\r\n    HttpEventType[HttpEventType[\"DownloadProgress\"] = 3] = \"DownloadProgress\";\r\n    HttpEventType[HttpEventType[\"Response\"] = 4] = \"Response\";\r\n    HttpEventType[HttpEventType[\"User\"] = 5] = \"User\";\r\n    HttpEventType[HttpEventType[\"ResponseError\"] = 6] = \"ResponseError\";\r\n})(HttpEventType = exports.HttpEventType || (exports.HttpEventType = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HttpHeaders = void 0;\r\nvar HttpHeaders = /** @class */ (function () {\r\n    function HttpHeaders(options) {\r\n        var _this = this;\r\n        var _a;\r\n        this.headers_ = new Map();\r\n        var headers = this.headers_;\r\n        if (options instanceof HttpHeaders) {\r\n            options.headers_.forEach(function (value, key) {\r\n                headers.set(key, value);\r\n            });\r\n        }\r\n        else if (typeof ((_a = options) === null || _a === void 0 ? void 0 : _a.forEach) === 'function') {\r\n            options.forEach(function (value, key) {\r\n                headers.set(key, value.split(', '));\r\n            });\r\n        }\r\n        else if (typeof options === 'object') {\r\n            Object.keys(options).forEach(function (key) {\r\n                var values = options[key];\r\n                if (typeof values === 'string') {\r\n                    values = [values];\r\n                }\r\n                if (headers.has(key)) {\r\n                    values.forEach(function (value) { return _this.append(key, value); });\r\n                }\r\n                else {\r\n                    headers.set(key, values);\r\n                }\r\n            });\r\n        }\r\n        else if (typeof options === 'string') {\r\n            options.split('\\n').forEach(function (line) {\r\n                var index = line.indexOf(':');\r\n                if (index > 0) {\r\n                    var key = line.slice(0, index);\r\n                    ;\r\n                    var value = line.slice(index + 1).trim();\r\n                    if (headers.has(key)) {\r\n                        _this.append(key, value);\r\n                    }\r\n                    else {\r\n                        headers.set(key, [value]);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (!headers.has('Accept')) {\r\n            headers.set('Accept', ['application/json', 'text/plain', '*/*']);\r\n        }\r\n        if (!headers.has('Content-Type')) {\r\n            headers.set('Content-Type', ['application/json']);\r\n        }\r\n    }\r\n    HttpHeaders.prototype.has = function (key) {\r\n        return this.headers_.has(key);\r\n    };\r\n    HttpHeaders.prototype.get = function (key) {\r\n        var values = this.headers_.get(key);\r\n        return values ? values.join(', ') : null;\r\n    };\r\n    HttpHeaders.prototype.set = function (key, value) {\r\n        var clone = this.clone_();\r\n        clone.headers_.set(key, value.split(', '));\r\n        return clone;\r\n    };\r\n    HttpHeaders.prototype.append = function (key, value) {\r\n        var clone = this.clone_();\r\n        var values = clone.headers_.has(key) ? clone.headers_.get(key) || [] : [];\r\n        values.push(value);\r\n        clone.headers_.set(key, values);\r\n        return clone;\r\n    };\r\n    HttpHeaders.prototype.delete = function (key) {\r\n        var clone = this.clone_();\r\n        clone.headers_.delete(key);\r\n        return clone;\r\n    };\r\n    HttpHeaders.prototype.forEach = function (callback, thisArg) {\r\n        var _this = this;\r\n        this.headers_.forEach(function (v, k) {\r\n            callback(v.join(', '), k, _this);\r\n        });\r\n    };\r\n    HttpHeaders.prototype.serialize = function () {\r\n        var headers = [];\r\n        this.forEach(function (value, key) {\r\n            headers.push([key, value]);\r\n        });\r\n        return headers;\r\n    };\r\n    HttpHeaders.prototype.toObject = function () {\r\n        var headers = {};\r\n        this.forEach(function (value, key) {\r\n            headers[key] = value;\r\n        });\r\n        return headers;\r\n    };\r\n    HttpHeaders.prototype.clone_ = function () {\r\n        var clone = new HttpHeaders();\r\n        this.headers_.forEach(function (value, key) {\r\n            clone.headers_.set(key, value);\r\n        });\r\n        return clone;\r\n    };\r\n    return HttpHeaders;\r\n}());\r\nexports.HttpHeaders = HttpHeaders;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HttpErrorResponse = void 0;\r\nvar tslib_1 = require(\"tslib\");\r\nvar http_event_1 = require(\"./http-event\");\r\nvar http_headers_1 = require(\"./http-headers\");\r\nvar HttpErrorResponse = /** @class */ (function (_super) {\r\n    tslib_1.__extends(HttpErrorResponse, _super);\r\n    function HttpErrorResponse(options) {\r\n        var _this = _super.call(this, (options === null || options === void 0 ? void 0 : options.message) || 'Unknown Error') || this;\r\n        _this.status = 0;\r\n        _this.statusText = 'Unknown Error';\r\n        _this.ok = false;\r\n        _this.type = http_event_1.HttpEventType.ResponseError;\r\n        _this.message = 'Unknown Error';\r\n        _this.name = 'HttpErrorResponse';\r\n        if (options) {\r\n            _this.headers = new http_headers_1.HttpHeaders(options.headers);\r\n            _this.status = options.status || _this.status;\r\n            _this.statusText = options.statusText || _this.statusText;\r\n            _this.url = options.url || _this.url;\r\n            _this.error = options.error || _this.error;\r\n            _this.name = options.name || _this.name;\r\n            _this.request = options.request || null;\r\n        }\r\n        return _this;\r\n    }\r\n    HttpErrorResponse.prototype.clone = function (options) {\r\n        options = Object.assign({\r\n            headers: this.headers,\r\n            status: this.status,\r\n            statusText: this.statusText,\r\n            url: this.url,\r\n            error: this.error,\r\n            message: this.message,\r\n            name: this.name,\r\n            request: this.request,\r\n        }, options || {});\r\n        var clone = new HttpErrorResponse(options);\r\n        return clone;\r\n    };\r\n    return HttpErrorResponse;\r\n}(Error));\r\nexports.HttpErrorResponse = HttpErrorResponse;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HttpResponseBase = exports.HttpResponse = exports.HttpHeaderResponse = void 0;\r\nvar http_event_1 = require(\"./http-event\");\r\nvar http_headers_1 = require(\"./http-headers\");\r\nvar HttpHeaderResponse = /** @class */ (function () {\r\n    function HttpHeaderResponse(options) {\r\n        this.status = 200;\r\n        this.statusText = 'OK';\r\n        this.type = http_event_1.HttpEventType.ResponseHeader;\r\n        if (options) {\r\n            this.headers = new http_headers_1.HttpHeaders(options.headers);\r\n            this.status = options.status || this.status;\r\n            this.statusText = options.statusText || this.statusText;\r\n            this.url = options.url || this.url;\r\n        }\r\n        this.ok = this.status >= 200 && this.status < 300;\r\n    }\r\n    HttpHeaderResponse.prototype.clone = function (options) {\r\n        options = Object.assign({\r\n            headers: this.headers,\r\n            status: this.status,\r\n            statusText: this.statusText,\r\n            url: this.url,\r\n            ok: this.ok,\r\n            type: this.type,\r\n        }, options || {});\r\n        var clone = new HttpHeaderResponse(options);\r\n        return clone;\r\n    };\r\n    return HttpHeaderResponse;\r\n}());\r\nexports.HttpHeaderResponse = HttpHeaderResponse;\r\nvar HttpResponse = /** @class */ (function () {\r\n    function HttpResponse(options) {\r\n        this.status = 200;\r\n        this.statusText = 'OK';\r\n        this.type = http_event_1.HttpEventType.Response;\r\n        this.body = null;\r\n        if (options) {\r\n            this.headers = new http_headers_1.HttpHeaders(options.headers);\r\n            this.status = options.status || this.status;\r\n            this.statusText = options.statusText || this.statusText;\r\n            this.url = options.url || this.url;\r\n            this.body = options.body || this.body;\r\n        }\r\n        this.ok = this.status >= 200 && this.status < 300;\r\n    }\r\n    HttpResponse.prototype.clone = function (options) {\r\n        options = Object.assign({\r\n            headers: this.headers,\r\n            status: this.status,\r\n            statusText: this.statusText,\r\n            url: this.url,\r\n            ok: this.ok,\r\n            type: this.type,\r\n            body: this.body,\r\n        }, options || {});\r\n        var clone = new HttpResponse(options);\r\n        return clone;\r\n    };\r\n    HttpResponse.prototype.toObject = function () {\r\n        var response = {};\r\n        response.url = this.url;\r\n        response.headers = this.headers.toObject();\r\n        response.status = this.status;\r\n        response.statusText = this.statusText;\r\n        response.ok = this.ok;\r\n        response.type = this.type;\r\n        response.body = this.body;\r\n        return response;\r\n    };\r\n    return HttpResponse;\r\n}());\r\nexports.HttpResponse = HttpResponse;\r\nvar HttpResponseBase = /** @class */ (function () {\r\n    function HttpResponseBase(options, defaultStatus, defaultStatusText) {\r\n        if (defaultStatus === void 0) { defaultStatus = 200; }\r\n        if (defaultStatusText === void 0) { defaultStatusText = 'OK'; }\r\n        this.status = 200;\r\n        this.statusText = 'OK';\r\n        this.headers = options.headers || new http_headers_1.HttpHeaders();\r\n        this.status = options.status !== undefined ? options.status : defaultStatus;\r\n        this.statusText = options.statusText || defaultStatusText;\r\n        this.url = options.url || undefined;\r\n        this.ok = this.status >= 200 && this.status < 300;\r\n    }\r\n    return HttpResponseBase;\r\n}());\r\nexports.HttpResponseBase = HttpResponseBase;\r\n/*\r\n// !!!\r\nexport default class HttpResponse {\r\n    data?: any;\r\n    url: string = '';\r\n    status: number = 0;\r\n    statusText: string = '';\r\n    ok: boolean = false;\r\n    redirected: boolean = false;\r\n    get static() {\r\n        return this.url!.indexOf('.json') === this.url!.length - 5;\r\n    }\r\n    constructor(response: Response) {\r\n        this.data = null;\r\n        if (response) {\r\n            this.url = response.url;\r\n            this.status = response.status;\r\n            this.statusText = response.statusText;\r\n            this.ok = response.ok;\r\n            this.redirected = response.redirected;\r\n        }\r\n    }\r\n}\r\n*/\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HttpFetchHandler = void 0;\r\nvar rxcomp_1 = require(\"rxcomp\");\r\nvar rxjs_1 = require(\"rxjs\");\r\nvar operators_1 = require(\"rxjs/operators\");\r\nvar http_error_response_1 = require(\"./http-error-response\");\r\nvar http_response_1 = require(\"./http-response\");\r\nvar HttpFetchHandler = /** @class */ (function () {\r\n    function HttpFetchHandler() {\r\n        this.response_ = null;\r\n    }\r\n    HttpFetchHandler.prototype.handle = function (request) {\r\n        var _this = this;\r\n        if (!request.method) {\r\n            throw new Error(\"missing method\");\r\n        }\r\n        var requestInfo = request.urlWithParams;\r\n        var requestInit = request.toInitRequest();\r\n        // console.log('fetchRequest', fetchRequest);\r\n        // fetchRequest.headers.forEach((value, key) => console.log('HttpFetchHandler.handle', key, value));\r\n        // request = request.clone({ headers: fetchRequest.headers });\r\n        // console.log('HttpFetchHandler.handle', 'requestInfo', requestInfo, 'requestInit', requestInit);\r\n        // hydrate\r\n        var stateKey = rxcomp_1.TransferService.makeKey(request.transferKey);\r\n        // console.log('HttpFetchHandler.get', 'stateKey', stateKey, 'isPlatformBrowser', isPlatformBrowser, 'hydrate', request.hydrate);\r\n        var response;\r\n        if (rxcomp_1.isPlatformBrowser && request.hydrate && rxcomp_1.TransferService.has(stateKey)) {\r\n            var transfer = rxcomp_1.TransferService.get(stateKey);\r\n            if (transfer) {\r\n                response = new http_response_1.HttpResponse(transfer);\r\n            }\r\n            // console.log('HttpFetchHandler', cached);\r\n            rxcomp_1.TransferService.remove(stateKey);\r\n        }\r\n        // hydrate\r\n        if (response) {\r\n            return rxjs_1.of(response);\r\n        }\r\n        else {\r\n            return rxjs_1.from(fetch(requestInfo, requestInit)\r\n                // fetch(fetchRequest)\r\n                .then(function (response) { return _this.getProgress(response, request); })\r\n                .then(function (response) { return _this.getResponse(response, request); })).pipe(\r\n            // hydrate\r\n            operators_1.tap(function (response) {\r\n                // console.log('HttpFetchHandler.set', 'isPlatformServer', isPlatformServer, 'hydrate', request.hydrate, response);\r\n                if (rxcomp_1.isPlatformServer && request.hydrate) {\r\n                    rxcomp_1.TransferService.set(stateKey, response.toObject());\r\n                }\r\n            }), \r\n            // hydrate\r\n            operators_1.catchError(function (error) {\r\n                var errorResponse = { error: error };\r\n                if (_this.response_) {\r\n                    errorResponse.headers = _this.response_.headers;\r\n                    errorResponse.status = _this.response_.status;\r\n                    errorResponse.statusText = _this.response_.statusText;\r\n                    errorResponse.url = _this.response_.url;\r\n                    errorResponse.request = request;\r\n                }\r\n                var httpErrorResponse = new http_error_response_1.HttpErrorResponse(errorResponse);\r\n                // console.log('httpErrorResponse', httpErrorResponse);\r\n                rxcomp_1.nextError$.next(httpErrorResponse);\r\n                return rxjs_1.of(_this.response_);\r\n                // return throwError(httpErrorResponse);\r\n            }), operators_1.finalize(function () {\r\n                _this.response_ = null;\r\n            }));\r\n        }\r\n    };\r\n    /*\r\n    onProgress(value: Uint8Array, done: boolean, request, reader, progress) {\r\n        console.log(\"value:\", value);\r\n        if (value || done) {\r\n            console.log(\"upload complete, request.bodyUsed:\", request.bodyUsed);\r\n            progress.value = progress.max;\r\n            return reader.closed.then(() => fileUpload);\r\n        };\r\n        console.log(\"upload progress:\", value);\r\n        if (progress.value < file.size) {\r\n            progress.value += 1;\r\n        }\r\n        return reader.read().then(({ value, done }) => this.onProgress(value, done, request, reader, progress));\r\n    };\r\n\r\n    getProgress_(request) {\r\n        const uploadProgress = new ReadableStream({\r\n            start(controller) {\r\n                console.log(\"starting upload, request.bodyUsed:\", request.bodyUsed);\r\n                controller.enqueue(request.bodyUsed);\r\n            },\r\n            pull(controller) {\r\n                if (request.bodyUsed) {\r\n                    controller.close();\r\n                }\r\n                controller.enqueue(request.bodyUsed);\r\n                console.log(\"pull, request.bodyUsed:\", request.bodyUsed);\r\n            },\r\n            cancel(reason) {\r\n                console.log(reason);\r\n            }\r\n        });\r\n\r\n        const [fileUpload, reader] = [\r\n            upload(request).catch(e => {\r\n                reader.cancel();\r\n                console.log(e);\r\n                throw e\r\n            }), uploadProgress.getReader()\r\n        ];\r\n    }\r\n    */\r\n    HttpFetchHandler.prototype.getProgress = function (response, request) {\r\n        var _this = this;\r\n        // console.log('HttpFetchHandler.setProgress', request.reportProgress, response.body);\r\n        var clonedBody = response.clone().body;\r\n        if (rxcomp_1.isPlatformBrowser && request.reportProgress && clonedBody) {\r\n            var reader_1 = clonedBody.getReader();\r\n            var contentLength_1 = response.headers && response.headers.has('Content-Length') ? +(response.headers.get('Content-Length') || 0) : 0;\r\n            return new Promise(function (resolve, reject) {\r\n                /*\r\n                let receivedLength = 0; // received that many bytes at the moment\r\n                const chunks: Uint8Array[] = []; // array of received binary chunks (comprises the body)\r\n                const getChunk = () => {\r\n                    return reader.read().then(({ done, value }) => {\r\n                        if (!done) {\r\n                            if (value) {\r\n                                chunks.push(value);\r\n                                receivedLength += value.length || 0;\r\n                                console.log(`HttpFetchHandler.setProgress ${(receivedLength / contentLength * 100).toFixed(2)}% ${receivedLength} of ${contentLength}`);\r\n                            }\r\n                            getChunk();\r\n                        } else {\r\n                            reader.cancel();\r\n                            resolve(response);\r\n                            if (false) {\r\n                                // Step 4: concatenate chunks into single Uint8Array\r\n                                const chunksAll = new Uint8Array(receivedLength); // (4.1)\r\n                                let position = 0;\r\n                                for (let chunk of chunks) {\r\n                                    chunksAll.set(chunk, position); // (4.2)\r\n                                    position += chunk.length;\r\n                                }\r\n                                // Step 5: decode into a string\r\n                                const result = new TextDecoder(\"utf-8\").decode(chunksAll);\r\n                                // We're done!\r\n                                const data = JSON.parse(result);\r\n                                console.log('HttpFetchHandler.setProgress data', data);\r\n                                resolve(response);\r\n                            }\r\n                        }\r\n                    }).catch(error => {\r\n                        reader.cancel();\r\n                        reject(error);\r\n                    });\r\n                };\r\n                getChunk();\r\n                */\r\n                var progress = { progress: 0, percent: 0, current: 0, total: 0 };\r\n                var onProgress = function (value, done) {\r\n                    var receivedLength = progress.current;\r\n                    if (!done) {\r\n                        if (value) {\r\n                            receivedLength += value.length || 0;\r\n                            progress.total = contentLength_1;\r\n                            progress.current = receivedLength;\r\n                            progress.progress = receivedLength / contentLength_1;\r\n                            progress.percent = progress.progress * 100;\r\n                        }\r\n                        // console.log('progress', progress);\r\n                        return reader_1.read().then(function (_a) {\r\n                            var value = _a.value, done = _a.done;\r\n                            return onProgress(value, done);\r\n                        });\r\n                    }\r\n                    else {\r\n                        progress.total = contentLength_1;\r\n                        progress.current = contentLength_1;\r\n                        progress.progress = 1;\r\n                        progress.percent = 100;\r\n                        // console.log('progress', progress);\r\n                        return reader_1.closed.then(function () { return response.clone(); });\r\n                    }\r\n                };\r\n                reader_1.read()\r\n                    .then(function (_a) {\r\n                    var value = _a.value, done = _a.done;\r\n                    return onProgress(value, done);\r\n                })\r\n                    .then(function (response) {\r\n                    _this.response_ = new http_response_1.HttpResponse(response);\r\n                    if (typeof response[request.responseType] === 'function') {\r\n                        return response[request.responseType]().then(function (json) {\r\n                            _this.response_ = new http_response_1.HttpResponse(Object.assign(_this.response_, { body: json }));\r\n                            if (response.ok) {\r\n                                return resolve(_this.response_);\r\n                            }\r\n                            else {\r\n                                return reject(_this.response_);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        return reject(_this.response_);\r\n                    }\r\n                })\r\n                    .catch(function (err) { return console.log(\"upload error:\", err); });\r\n            });\r\n        }\r\n        else {\r\n            return Promise.resolve(response);\r\n        }\r\n    };\r\n    HttpFetchHandler.prototype.getResponse = function (response, request) {\r\n        this.response_ = new http_response_1.HttpResponse(response);\r\n        if (rxcomp_1.isPlatformBrowser && request.reportProgress && response.body) {\r\n            return Promise.resolve(this.response_);\r\n        }\r\n        else {\r\n            return this.getResponseType(response, request);\r\n        }\r\n    };\r\n    HttpFetchHandler.prototype.getResponseType = function (response, request) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.response_ = new http_response_1.HttpResponse(response);\r\n            if (typeof response[request.responseType] === 'function') {\r\n                return response[request.responseType]().then(function (json) {\r\n                    _this.response_ = new http_response_1.HttpResponse(Object.assign(_this.response_, { body: json }));\r\n                    if (response.ok) {\r\n                        return resolve(_this.response_);\r\n                    }\r\n                    else {\r\n                        return reject(_this.response_);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                return reject(_this.response_);\r\n            }\r\n        });\r\n    };\r\n    HttpFetchHandler.prototype.getReadableStream = function (response, request) {\r\n        var reader = response.body.getReader();\r\n        var readableStream = new ReadableStream({\r\n            start: function (controller) {\r\n                // console.log(\"starting upload, request.bodyUsed:\", request.bodyUsed);\r\n                // controller.enqueue(request.bodyUsed);\r\n                // The following function handles each data chunk\r\n                var push = function () {\r\n                    // \"done\" is a Boolean and value a \"Uint8Array\"\r\n                    reader.read().then(function (_a) {\r\n                        var done = _a.done, value = _a.value;\r\n                        // Is there no more data to read?\r\n                        if (done) {\r\n                            // Tell the browser that we have finished sending data\r\n                            controller.close();\r\n                            return;\r\n                        }\r\n                        // Get the data and send it to the browser via the controller\r\n                        controller.enqueue(value);\r\n                        push();\r\n                    });\r\n                };\r\n                push();\r\n            },\r\n        });\r\n        return readableStream;\r\n    };\r\n    return HttpFetchHandler;\r\n}());\r\nexports.HttpFetchHandler = HttpFetchHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HttpXhrHandler = void 0;\r\nvar rxcomp_1 = require(\"rxcomp\");\r\nvar rxjs_1 = require(\"rxjs\");\r\nvar http_error_response_1 = require(\"./http-error-response\");\r\nvar http_event_1 = require(\"./http-event\");\r\nvar http_headers_1 = require(\"./http-headers\");\r\nvar http_response_1 = require(\"./http-response\");\r\nvar XSSI_PREFIX = /^\\)\\]\\}',?\\n/;\r\nvar HttpXhrHandler = /** @class */ (function () {\r\n    function HttpXhrHandler() {\r\n    }\r\n    HttpXhrHandler.prototype.handle = function (request) {\r\n        if (!request.method) {\r\n            throw new Error(\"missing method\");\r\n        }\r\n        if (request.method === 'JSONP') {\r\n            throw new Error(\"Attempted to construct Jsonp request without JsonpClientModule installed.\");\r\n        }\r\n        console.log('HttpXhrHandler.request', request);\r\n        return new rxjs_1.Observable(function (observer) {\r\n            var xhr = new XMLHttpRequest();\r\n            var requestInfo = request.urlWithParams;\r\n            var requestInit = request.toInitRequest();\r\n            if (!requestInit.method) {\r\n                throw new Error(\"missing method\");\r\n            }\r\n            // hydrate\r\n            var stateKey = rxcomp_1.TransferService.makeKey(request.transferKey);\r\n            if (rxcomp_1.isPlatformBrowser && request.hydrate && rxcomp_1.TransferService.has(stateKey)) {\r\n                var cached = rxcomp_1.TransferService.get(stateKey); // !!! <T>\r\n                rxcomp_1.TransferService.remove(stateKey);\r\n                observer.next(cached);\r\n                observer.complete();\r\n                return;\r\n                // hydrate\r\n            }\r\n            else {\r\n                xhr.open(requestInit.method, requestInfo);\r\n                if (request.withCredentials) {\r\n                    xhr.withCredentials = true;\r\n                }\r\n                var headers = request.headers;\r\n                if (!headers.has('Accept')) {\r\n                    headers.set('Accept', 'application/json, text/plain, */*');\r\n                }\r\n                if (!headers.has('Content-Type')) {\r\n                    var detectedType = request.detectContentTypeHeader();\r\n                    if (detectedType !== null) {\r\n                        headers.set('Content-Type', detectedType);\r\n                    }\r\n                }\r\n                console.log('HttpXhrHandler.contentType', headers.get('Content-Type'));\r\n                headers.forEach(function (value, name) { return xhr.setRequestHeader(name, value); });\r\n                if (request.responseType) {\r\n                    xhr.responseType = (request.responseType !== 'json' ? request.responseType : 'text');\r\n                }\r\n                var body_1 = request.serializeBody();\r\n                var headerResponse_1 = null;\r\n                var partialFromXhr_1 = function () {\r\n                    if (headerResponse_1 !== null) {\r\n                        return headerResponse_1;\r\n                    }\r\n                    var status = xhr.status === 1223 ? 204 : xhr.status;\r\n                    var statusText = xhr.statusText || 'OK';\r\n                    var headers = new http_headers_1.HttpHeaders(xhr.getAllResponseHeaders());\r\n                    var url = getResponseUrl_(xhr) || request.url;\r\n                    headerResponse_1 = new http_response_1.HttpHeaderResponse({ headers: headers, status: status, statusText: statusText, url: url });\r\n                    return headerResponse_1;\r\n                };\r\n                var onLoad_1 = function () {\r\n                    var _a = partialFromXhr_1(), headers = _a.headers, status = _a.status, statusText = _a.statusText, url = _a.url;\r\n                    var body = null;\r\n                    if (status !== 204) {\r\n                        body = (typeof xhr.response === 'undefined') ? xhr.responseText : xhr.response;\r\n                    }\r\n                    if (status === 0) {\r\n                        status = !!body ? 200 : 0;\r\n                    }\r\n                    var ok = status >= 200 && status < 300;\r\n                    if (request.responseType === 'json' && typeof body === 'string') {\r\n                        var originalBody = body;\r\n                        body = body.replace(XSSI_PREFIX, '');\r\n                        try {\r\n                            body = body !== '' ? JSON.parse(body) : null;\r\n                        }\r\n                        catch (error) {\r\n                            body = originalBody;\r\n                            if (ok) {\r\n                                ok = false;\r\n                                body = { error: error, text: body };\r\n                            }\r\n                        }\r\n                    }\r\n                    if (ok) {\r\n                        var response = new http_response_1.HttpResponse({ body: body, headers: headers, status: status, statusText: statusText, url: url });\r\n                        // hydrate\r\n                        if (rxcomp_1.isPlatformServer && request.hydrate) {\r\n                            rxcomp_1.TransferService.set(stateKey, response);\r\n                        }\r\n                        // hydrate\r\n                        observer.next(response);\r\n                        observer.complete();\r\n                    }\r\n                    else {\r\n                        var options = {\r\n                            error: new Error(statusText),\r\n                            headers: headers,\r\n                            status: status,\r\n                            statusText: statusText,\r\n                            url: url,\r\n                            request: request\r\n                        };\r\n                        var httpErrorResponse = new http_error_response_1.HttpErrorResponse(options);\r\n                        // console.log('httpErrorResponse', httpErrorResponse);\r\n                        rxcomp_1.nextError$.next(httpErrorResponse);\r\n                        // return of(null);\r\n                        observer.error(httpErrorResponse);\r\n                    }\r\n                };\r\n                var onError_1 = function (error) {\r\n                    var url = partialFromXhr_1().url;\r\n                    var statusText = xhr.statusText || 'Unknown Error';\r\n                    var headers = new http_headers_1.HttpHeaders(xhr.getAllResponseHeaders());\r\n                    var options = {\r\n                        error: new Error(statusText),\r\n                        headers: headers,\r\n                        status: xhr.status || 0,\r\n                        statusText: statusText,\r\n                        url: url,\r\n                        request: request\r\n                    };\r\n                    var httpErrorResponse = new http_error_response_1.HttpErrorResponse(options);\r\n                    // console.log('httpErrorResponse', httpErrorResponse);\r\n                    rxcomp_1.nextError$.next(httpErrorResponse);\r\n                    // return of(null);\r\n                    observer.error(httpErrorResponse);\r\n                };\r\n                var sentHeaders_1 = false;\r\n                var onDownProgress_1 = function (event) {\r\n                    if (!sentHeaders_1) {\r\n                        observer.next(partialFromXhr_1());\r\n                        sentHeaders_1 = true;\r\n                    }\r\n                    var progressEvent = {\r\n                        type: http_event_1.HttpEventType.DownloadProgress,\r\n                        loaded: event.loaded,\r\n                    };\r\n                    if (event.lengthComputable) {\r\n                        progressEvent.total = event.total;\r\n                    }\r\n                    if (request.responseType === 'text' && !!xhr.responseText) {\r\n                        progressEvent.partialText = xhr.responseText;\r\n                    }\r\n                    console.log(progressEvent);\r\n                    observer.next(progressEvent);\r\n                };\r\n                var onUpProgress_1 = function (event) {\r\n                    var progress = {\r\n                        type: http_event_1.HttpEventType.UploadProgress,\r\n                        loaded: event.loaded,\r\n                    };\r\n                    if (event.lengthComputable) {\r\n                        progress.total = event.total;\r\n                    }\r\n                    observer.next(progress);\r\n                };\r\n                xhr.addEventListener('load', onLoad_1);\r\n                xhr.addEventListener('error', onError_1);\r\n                if (request.reportProgress) {\r\n                    xhr.addEventListener('progress', onDownProgress_1);\r\n                    if (body_1 !== null && xhr.upload) {\r\n                        xhr.upload.addEventListener('progress', onUpProgress_1);\r\n                    }\r\n                }\r\n                xhr.send(body_1);\r\n                observer.next({ type: http_event_1.HttpEventType.Sent });\r\n                return function () {\r\n                    xhr.removeEventListener('error', onError_1);\r\n                    xhr.removeEventListener('load', onLoad_1);\r\n                    if (request.reportProgress) {\r\n                        xhr.removeEventListener('progress', onDownProgress_1);\r\n                        if (body_1 !== null && xhr.upload) {\r\n                            xhr.upload.removeEventListener('progress', onUpProgress_1);\r\n                        }\r\n                    }\r\n                    if (xhr.readyState !== xhr.DONE) {\r\n                        xhr.abort();\r\n                    }\r\n                };\r\n            }\r\n        });\r\n    };\r\n    return HttpXhrHandler;\r\n}());\r\nexports.HttpXhrHandler = HttpXhrHandler;\r\nfunction getResponseUrl_(xhr) {\r\n    if ('responseURL' in xhr && xhr.responseURL) {\r\n        return xhr.responseURL;\r\n    }\r\n    if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\r\n        return xhr.getResponseHeader('X-Request-URL');\r\n    }\r\n    return null;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.jsonpCallbackContext = exports.interceptingHandler = exports.HttpInterceptingHandler = exports.xhrHandler = exports.fetchHandler = exports.NoopInterceptor = exports.HttpInterceptors = exports.HttpInterceptorHandler = void 0;\r\nvar http_fetch_handler_1 = require(\"./http-fetch.handler\");\r\nvar http_xhr_handler_1 = require(\"./http-xhr.handler\");\r\nvar HttpInterceptorHandler = /** @class */ (function () {\r\n    function HttpInterceptorHandler(next, interceptor) {\r\n        this.next = next;\r\n        this.interceptor = interceptor;\r\n    }\r\n    HttpInterceptorHandler.prototype.handle = function (req) {\r\n        return this.interceptor.intercept(req, this.next);\r\n    };\r\n    return HttpInterceptorHandler;\r\n}());\r\nexports.HttpInterceptorHandler = HttpInterceptorHandler;\r\nexports.HttpInterceptors = [];\r\nvar NoopInterceptor = /** @class */ (function () {\r\n    function NoopInterceptor() {\r\n    }\r\n    NoopInterceptor.prototype.intercept = function (req, next) {\r\n        return next.handle(req);\r\n    };\r\n    return NoopInterceptor;\r\n}());\r\nexports.NoopInterceptor = NoopInterceptor;\r\nexports.fetchHandler = new http_fetch_handler_1.HttpFetchHandler();\r\nexports.xhrHandler = new http_xhr_handler_1.HttpXhrHandler();\r\nvar HttpInterceptingHandler = /** @class */ (function () {\r\n    function HttpInterceptingHandler() {\r\n        this.chain = null;\r\n    }\r\n    HttpInterceptingHandler.prototype.handle = function (req) {\r\n        if (this.chain === null) {\r\n            var interceptors = exports.HttpInterceptors;\r\n            this.chain = interceptors.reduceRight(function (next, interceptor) { return new HttpInterceptorHandler(next, interceptor); }, exports.fetchHandler);\r\n        }\r\n        return this.chain.handle(req);\r\n    };\r\n    return HttpInterceptingHandler;\r\n}());\r\nexports.HttpInterceptingHandler = HttpInterceptingHandler;\r\nfunction interceptingHandler(handler, interceptors) {\r\n    if (interceptors === void 0) { interceptors = []; }\r\n    if (!interceptors) {\r\n        return handler;\r\n    }\r\n    return interceptors.reduceRight(function (next, interceptor) { return new HttpInterceptorHandler(next, interceptor); }, handler);\r\n}\r\nexports.interceptingHandler = interceptingHandler;\r\nfunction jsonpCallbackContext() {\r\n    if (typeof window === 'object') {\r\n        return window;\r\n    }\r\n    return {};\r\n}\r\nexports.jsonpCallbackContext = jsonpCallbackContext;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar rxcomp_1 = require(\"rxcomp\");\r\nvar http_interceptor_1 = require(\"./http/http-interceptor\");\r\nvar factories = [];\r\nvar pipes = [];\r\n/**\r\n *  HttpModule Class.\r\n * @example\r\n * export default class AppModule extends Module {}\r\n *\r\n * AppModule.meta = {\r\n *  imports: [\r\n *   CoreModule,\r\n *    HttpModule\r\n *  ],\r\n *  declarations: [\r\n *   ErrorsComponent\r\n *  ],\r\n *  bootstrap: AppComponent,\r\n * };\r\n * @extends Module\r\n */\r\nvar HttpModule = /** @class */ (function (_super) {\r\n    tslib_1.__extends(HttpModule, _super);\r\n    function HttpModule() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    HttpModule.useInterceptors = function (interceptorFactories) {\r\n        if (interceptorFactories === null || interceptorFactories === void 0 ? void 0 : interceptorFactories.length) {\r\n            var interceptors = interceptorFactories === null || interceptorFactories === void 0 ? void 0 : interceptorFactories.map(function (x) { return new x(); });\r\n            http_interceptor_1.HttpInterceptors.push.apply(http_interceptor_1.HttpInterceptors, interceptors);\r\n        }\r\n        return this;\r\n    };\r\n    HttpModule.meta = {\r\n        declarations: tslib_1.__spread(factories, pipes),\r\n        exports: tslib_1.__spread(factories, pipes)\r\n    };\r\n    return HttpModule;\r\n}(rxcomp_1.Module));\r\nexports.default = HttpModule;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HttpHandler = void 0;\r\nvar HttpHandler = /** @class */ (function () {\r\n    function HttpHandler() {\r\n    }\r\n    return HttpHandler;\r\n}());\r\nexports.HttpHandler = HttpHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HttpParams = exports.HttpUrlEncodingCodec = void 0;\r\nvar tslib_1 = require(\"tslib\");\r\nvar HttpUrlEncodingCodec = /** @class */ (function () {\r\n    function HttpUrlEncodingCodec() {\r\n    }\r\n    HttpUrlEncodingCodec.prototype.encodeKey = function (key) {\r\n        return encodeParam_(key);\r\n    };\r\n    HttpUrlEncodingCodec.prototype.encodeValue = function (value) {\r\n        return encodeParam_(value);\r\n    };\r\n    HttpUrlEncodingCodec.prototype.decodeKey = function (key) {\r\n        return decodeURIComponent(key);\r\n    };\r\n    HttpUrlEncodingCodec.prototype.decodeValue = function (value) {\r\n        return decodeURIComponent(value);\r\n    };\r\n    return HttpUrlEncodingCodec;\r\n}());\r\nexports.HttpUrlEncodingCodec = HttpUrlEncodingCodec;\r\nvar HttpParams = /** @class */ (function () {\r\n    function HttpParams(options, encoder) {\r\n        if (encoder === void 0) { encoder = new HttpUrlEncodingCodec(); }\r\n        this.params_ = new Map();\r\n        this.encoder = encoder;\r\n        var params = this.params_;\r\n        if (options instanceof HttpParams) {\r\n            options.params_.forEach(function (value, key) {\r\n                params.set(key, value);\r\n            });\r\n        }\r\n        else if (typeof options === 'object') {\r\n            Object.keys(options).forEach(function (key) {\r\n                var value = options[key];\r\n                params.set(key, Array.isArray(value) ? value : [value]);\r\n            });\r\n        }\r\n        else if (typeof options === 'string') {\r\n            parseRawParams_(params, options, this.encoder);\r\n        }\r\n        // ?updates=null&cloneFrom=null&encoder=%5Bobject%20Object%5D&params_=%5Bobject%20Map%5D\r\n    }\r\n    HttpParams.prototype.keys = function () {\r\n        return Array.from(this.params_.keys());\r\n    };\r\n    HttpParams.prototype.has = function (key) {\r\n        return this.params_.has(key);\r\n    };\r\n    HttpParams.prototype.get = function (key) {\r\n        var value = this.params_.get(key);\r\n        return value ? value[0] : null;\r\n    };\r\n    HttpParams.prototype.getAll = function (key) {\r\n        return this.params_.get(key) || null;\r\n    };\r\n    HttpParams.prototype.set = function (key, value) {\r\n        var clone = this.clone_();\r\n        clone.params_.set(key, [value]);\r\n        return clone;\r\n    };\r\n    HttpParams.prototype.append = function (key, value) {\r\n        var clone = this.clone_();\r\n        if (clone.has(key)) {\r\n            var values = clone.params_.get(key) || [];\r\n            values.push(value);\r\n            clone.params_.set(key, values);\r\n        }\r\n        else {\r\n            clone.params_.set(key, [value]);\r\n        }\r\n        return clone;\r\n    };\r\n    HttpParams.prototype.delete = function (key) {\r\n        var clone = this.clone_();\r\n        clone.params_.delete(key);\r\n        return clone;\r\n    };\r\n    HttpParams.prototype.toString = function () {\r\n        var _this = this;\r\n        return this.keys().map(function (key) {\r\n            var values = _this.params_.get(key);\r\n            return _this.encoder.encodeKey(key) + (values ? '=' + values.map(function (x) { return _this.encoder.encodeValue(x); }).join('&') : '');\r\n        }).filter(function (keyValue) { return keyValue !== ''; }).join('&');\r\n    };\r\n    HttpParams.prototype.toObject = function () {\r\n        var _this = this;\r\n        var params = {};\r\n        this.keys().map(function (key) {\r\n            var values = _this.params_.get(key);\r\n            if (values) {\r\n                params[key] = values;\r\n            }\r\n            // return this.encoder.encodeKey(key) + (values ? '=' + values.map(x => this.encoder.encodeValue(x)).join('&') : '');\r\n        });\r\n        return params;\r\n    };\r\n    HttpParams.prototype.clone_ = function () {\r\n        var clone = new HttpParams(undefined, this.encoder);\r\n        this.params_.forEach(function (value, key) {\r\n            clone.params_.set(key, value);\r\n        });\r\n        return clone;\r\n    };\r\n    return HttpParams;\r\n}());\r\nexports.HttpParams = HttpParams;\r\nfunction parseRawParams_(params, queryString, encoder) {\r\n    if (queryString.length > 0) {\r\n        var keyValueParams = queryString.split('&');\r\n        keyValueParams.forEach(function (keyValue) {\r\n            var index = keyValue.indexOf('=');\r\n            var _a = tslib_1.__read(index == -1 ? [encoder.decodeKey(keyValue), ''] : [encoder.decodeKey(keyValue.slice(0, index)), encoder.decodeValue(keyValue.slice(index + 1))], 2), key = _a[0], value = _a[1];\r\n            var values = params.get(key) || [];\r\n            values.push(value);\r\n            params.set(key, values);\r\n        });\r\n    }\r\n    return params;\r\n}\r\nfunction encodeParam_(v) {\r\n    return encodeURIComponent(v)\r\n        .replace(/%40/gi, '@')\r\n        .replace(/%3A/gi, ':')\r\n        .replace(/%24/gi, '$')\r\n        .replace(/%2C/gi, ',')\r\n        .replace(/%3B/gi, ';')\r\n        .replace(/%2B/gi, '+')\r\n        .replace(/%3D/gi, '=')\r\n        .replace(/%3F/gi, '?')\r\n        .replace(/%2F/gi, '/');\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HttpRequest = void 0;\r\nvar rxcomp_1 = require(\"rxcomp\");\r\nvar http_headers_1 = require(\"./http-headers\");\r\nvar http_params_1 = require(\"./http-params\");\r\nvar HttpRequest = /** @class */ (function () {\r\n    function HttpRequest(method, url, third, fourth) {\r\n        this.url = url;\r\n        this.reportProgress = false;\r\n        this.withCredentials = false;\r\n        this.hydrate = true;\r\n        this.observe = 'body';\r\n        this.responseType = 'json';\r\n        // !!! remove, rethink\r\n        var isStaticFile = /\\.(json|xml|txt)(\\?.*)?$/.test(url);\r\n        this.method = isStaticFile ? 'GET' : method.toUpperCase();\r\n        var options;\r\n        if (methodHasBody_(this.method) || !!fourth) {\r\n            this.body = (third !== undefined) ? third : null;\r\n            options = fourth;\r\n        }\r\n        else {\r\n            options = third;\r\n        }\r\n        if (options) {\r\n            this.reportProgress = !!options.reportProgress;\r\n            this.withCredentials = !!options.withCredentials;\r\n            this.observe = options.observe || this.observe;\r\n            if (options.responseType) {\r\n                this.responseType = options.responseType;\r\n            }\r\n            if (options.headers) {\r\n                this.headers = new http_headers_1.HttpHeaders(options.headers);\r\n            }\r\n            if (options.params) {\r\n                this.params = new http_params_1.HttpParams(options.params);\r\n            }\r\n        }\r\n        if (!this.headers) {\r\n            this.headers = new http_headers_1.HttpHeaders();\r\n        }\r\n        if (!this.params) {\r\n            this.params = new http_params_1.HttpParams();\r\n        }\r\n        var params = this.params.toString();\r\n        var index = url.indexOf('?');\r\n        var sep = index === -1 ? '?' : (index < url.length - 1 ? '&' : '');\r\n        this.urlWithParams = url + (params.length ? sep + params : params);\r\n    }\r\n    Object.defineProperty(HttpRequest.prototype, \"transferKey\", {\r\n        get: function () {\r\n            var pathname = rxcomp_1.getLocationComponents(this.url).pathname;\r\n            var paramsKey = rxcomp_1.optionsToKey(this.params.toObject());\r\n            var bodyKey = rxcomp_1.optionsToKey(this.body);\r\n            var key = this.method + \"-\" + pathname + \"-\" + paramsKey + \"-\" + bodyKey;\r\n            key = key.replace(/(\\s+)|(\\W+)/g, function () {\r\n                var matches = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    matches[_i] = arguments[_i];\r\n                }\r\n                return matches[1] ? '' : '_';\r\n            });\r\n            console.log('transferKey', key);\r\n            return key;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    HttpRequest.prototype.serializeBody = function () {\r\n        if (this.body === null) {\r\n            return null;\r\n        }\r\n        if (isArrayBuffer_(this.body) || isBlob_(this.body) || isFormData_(this.body) ||\r\n            typeof this.body === 'string') {\r\n            return this.body;\r\n        }\r\n        if (this.body instanceof http_params_1.HttpParams) {\r\n            return this.body.toString();\r\n        }\r\n        if (typeof this.body === 'object' || typeof this.body === 'boolean' || Array.isArray(this.body)) {\r\n            return JSON.stringify(this.body);\r\n        }\r\n        return this.body.toString();\r\n    };\r\n    HttpRequest.prototype.detectContentTypeHeader = function () {\r\n        if (this.body === null) {\r\n            return null;\r\n        }\r\n        if (isFormData_(this.body)) {\r\n            return null;\r\n        }\r\n        if (isBlob_(this.body)) {\r\n            return this.body.type || null;\r\n        }\r\n        if (isArrayBuffer_(this.body)) {\r\n            return null;\r\n        }\r\n        if (typeof this.body === 'string') {\r\n            return 'text/plain';\r\n        }\r\n        if (this.body instanceof http_params_1.HttpParams) {\r\n            return 'application/x-www-form-urlencoded;charset=UTF-8';\r\n        }\r\n        if (typeof this.body === 'object' || typeof this.body === 'number' ||\r\n            Array.isArray(this.body)) {\r\n            return 'application/json';\r\n        }\r\n        return null;\r\n    };\r\n    HttpRequest.prototype.toInitRequest = function () {\r\n        return {\r\n            method: this.method,\r\n            headers: this.headers.serialize(),\r\n            body: this.serializeBody(),\r\n            mode: 'same-origin',\r\n            credentials: 'same-origin',\r\n            cache: 'default',\r\n            redirect: 'error',\r\n        };\r\n    };\r\n    HttpRequest.prototype.toFetchRequest__ = function () {\r\n        return new Request(this.urlWithParams, this.toInitRequest());\r\n        /*\r\n        Request.cache Read only\r\n        Contains the cache mode of the request (e.g., default, reload, no-cache).\r\n        Request.context Read only\r\n        Contains the context of the request (e.g., audio, image, iframe, etc.)\r\n        Request.credentials Read only\r\n        Contains the credentials of the request (e.g., omit, same-origin, include). The default is same-origin.\r\n        Request.destination Read only\r\n        Returns a string from the RequestDestination enum describing the request's destination. This is a string indicating the type of content being requested.\r\n        Request.headers Read only\r\n        Contains the associated Headers object of the request.\r\n        Request.integrity Read only\r\n        Contains the subresource integrity value of the request (e.g., sha256-BpfBw7ivV8q2jLiT13fxDYAe2tJllusRSZ273h2nFSE=).\r\n        Request.method Read only\r\n        Contains the request's method (GET, POST, etc.)\r\n        Request.mode Read only\r\n        Contains the mode of the request (e.g., cors, no-cors, same-origin, navigate.)\r\n        Request.redirect Read only\r\n        Contains the mode for how redirects are handled. It may be one of follow, error, or manual.\r\n        Request.referrer Read only\r\n        Contains the referrer of the request (e.g., client).\r\n        Request.referrerPolicy Read only\r\n        Contains the referrer policy of the request (e.g., no-referrer).\r\n        Request.url Read only\r\n        Contains the URL of the request.\r\n        Request implements Body, so it also inherits the following properties:\r\n        body Read only\r\n        A simple getter used to expose a ReadableStream of the body contents.\r\n        bodyUsed Read only\r\n        Stores a Boolean that declares whether the body has been used in a response yet.\r\n        */\r\n    };\r\n    HttpRequest.prototype.clone = function (options) {\r\n        options = Object.assign({\r\n            headers: this.headers,\r\n            reportProgress: this.reportProgress,\r\n            params: this.params,\r\n            responseType: this.responseType,\r\n            withCredentials: this.withCredentials,\r\n            observe: this.observe,\r\n            body: this.body,\r\n            url: this.url,\r\n            method: this.method,\r\n        }, options || {});\r\n        var clone = new HttpRequest(this.method, this.url, this.body, options);\r\n        return clone;\r\n    };\r\n    HttpRequest.prototype.toObject = function () {\r\n        var request = {};\r\n        request.url = this.url;\r\n        request.method = this.method;\r\n        request.headers = this.headers.toObject();\r\n        request.params = this.params.toObject();\r\n        request.body = this.body;\r\n        request.reportProgress = this.reportProgress;\r\n        request.responseType = this.responseType;\r\n        request.withCredentials = this.withCredentials;\r\n        request.observe = this.observe;\r\n        return request;\r\n    };\r\n    return HttpRequest;\r\n}());\r\nexports.HttpRequest = HttpRequest;\r\nfunction methodHasBody_(method) {\r\n    switch (method) {\r\n        case 'DELETE':\r\n        case 'GET':\r\n        case 'HEAD':\r\n        case 'OPTIONS':\r\n        case 'JSONP':\r\n            return false;\r\n        default:\r\n            return true;\r\n    }\r\n}\r\nfunction isArrayBuffer_(value) {\r\n    return typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer;\r\n}\r\nfunction isBlob_(value) {\r\n    return typeof Blob !== 'undefined' && value instanceof Blob;\r\n}\r\nfunction isFormData_(value) {\r\n    return typeof FormData !== 'undefined' && value instanceof FormData;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar rxjs_1 = require(\"rxjs\");\r\nvar operators_1 = require(\"rxjs/operators\");\r\nvar http_error_response_1 = require(\"./http-error-response\");\r\nvar http_headers_1 = require(\"./http-headers\");\r\nvar http_interceptor_1 = require(\"./http-interceptor\");\r\nvar http_params_1 = require(\"./http-params\");\r\nvar http_request_1 = require(\"./http-request\");\r\nvar http_response_1 = require(\"./http-response\");\r\nvar HttpService = /** @class */ (function () {\r\n    function HttpService() {\r\n    }\r\n    HttpService.incrementPendingRequest = function () {\r\n        HttpService.pendingRequests$.next(HttpService.pendingRequests$.getValue() + 1);\r\n    };\r\n    HttpService.decrementPendingRequest = function () {\r\n        HttpService.pendingRequests$.next(HttpService.pendingRequests$.getValue() - 1);\r\n    };\r\n    HttpService.request$ = function (first, url, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        var request;\r\n        if (first instanceof http_request_1.HttpRequest) {\r\n            request = first;\r\n        }\r\n        else {\r\n            var headers = undefined;\r\n            if (options.headers instanceof http_headers_1.HttpHeaders) {\r\n                headers = options.headers;\r\n            }\r\n            else {\r\n                headers = new http_headers_1.HttpHeaders(options.headers);\r\n            }\r\n            var params = undefined;\r\n            if (options.params) {\r\n                params = new http_params_1.HttpParams(options.params);\r\n            }\r\n            request = new http_request_1.HttpRequest(first, url, (options.body !== undefined ? options.body : null), {\r\n                headers: headers,\r\n                params: params,\r\n                reportProgress: options.reportProgress,\r\n                responseType: options.responseType || 'json',\r\n                withCredentials: options.withCredentials,\r\n            });\r\n        }\r\n        // console.log('HttpService.request$', request);\r\n        HttpService.incrementPendingRequest();\r\n        var events$ = rxjs_1.of(request).pipe(operators_1.concatMap(function (request) { return _this.handler.handle(request); }), \r\n        // tap((response: HttpEvent<any>) => console.log('HttpService.response', response)),\r\n        operators_1.finalize(function () { return HttpService.decrementPendingRequest(); }));\r\n        if (first instanceof http_request_1.HttpRequest || options.observe === 'events') {\r\n            return events$.pipe(operators_1.catchError(function (error) {\r\n                console.log('error', error);\r\n                return rxjs_1.throwError(_this.getError(error, null, request));\r\n            }));\r\n        }\r\n        var response$ = events$.pipe(operators_1.filter(function (event) { return event instanceof http_response_1.HttpResponse; }));\r\n        var response_;\r\n        var observe$ = response$.pipe(operators_1.map(function (response) {\r\n            response_ = response;\r\n            switch (options.observe || 'body') {\r\n                case 'body':\r\n                    switch (request.responseType) {\r\n                        case 'arraybuffer':\r\n                            if (response.body !== null && !(response.body instanceof ArrayBuffer)) {\r\n                                throw new Error('Response is not an ArrayBuffer.');\r\n                            }\r\n                            return response.body;\r\n                        case 'blob':\r\n                            if (response.body !== null && !(response.body instanceof Blob)) {\r\n                                throw new Error('Response is not a Blob.');\r\n                            }\r\n                            return response.body;\r\n                        case 'text':\r\n                            if (response.body !== null && typeof response.body !== 'string') {\r\n                                throw new Error('Response is not a string.');\r\n                            }\r\n                            return response.body;\r\n                        case 'json':\r\n                        default:\r\n                            return response.body;\r\n                    }\r\n                case 'response':\r\n                    return response;\r\n                default:\r\n                    throw new Error(\"Unreachable: unhandled observe type \" + options.observe + \"}\");\r\n            }\r\n        }), operators_1.catchError(function (error) {\r\n            console.log('error', error);\r\n            return rxjs_1.throwError(_this.getError(error, response_, request));\r\n        }));\r\n        return observe$;\r\n        /*\r\n        switch (options.observe || 'body') {\r\n            case 'body':\r\n                switch (request.responseType) {\r\n                    case 'arraybuffer':\r\n                        return response$.pipe(map((response: HttpResponse<T>) => {\r\n                            if (response.body !== null && !(response.body instanceof ArrayBuffer)) {\r\n                                throw new Error('Response is not an ArrayBuffer.');\r\n                            }\r\n                            return response.body;\r\n                        }));\r\n                    case 'blob':\r\n                        return response$.pipe(map((response: HttpResponse<T>) => {\r\n                            if (response.body !== null && !(response.body instanceof Blob)) {\r\n                                throw new Error('Response is not a Blob.');\r\n                            }\r\n                            return response.body;\r\n                        }));\r\n                    case 'text':\r\n                        return response$.pipe(map((response: HttpResponse<T>) => {\r\n                            if (response.body !== null && typeof response.body !== 'string') {\r\n                                throw new Error('Response is not a string.');\r\n                            }\r\n                            return response.body;\r\n                        }));\r\n                    case 'json':\r\n                    default:\r\n                        return response$.pipe(map((response: HttpResponse<T>) => response.body));\r\n                }\r\n            case 'response':\r\n                return response$;\r\n            default:\r\n                throw new Error(`Unreachable: unhandled observe type ${options.observe}}`);\r\n        }\r\n        */\r\n    };\r\n    HttpService.delete$ = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.request$('DELETE', url, options);\r\n    };\r\n    HttpService.get$ = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.request$('GET', url, options);\r\n    };\r\n    HttpService.head$ = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.request$('HEAD', url, options);\r\n    };\r\n    HttpService.jsonp$ = function (url, callbackParam) {\r\n        return this.request$('JSONP', url, {\r\n            params: new http_params_1.HttpParams().append(callbackParam, 'JSONP_CALLBACK'),\r\n            observe: 'body',\r\n            responseType: 'json',\r\n        });\r\n    };\r\n    HttpService.options$ = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.request$('OPTIONS', url, options);\r\n    };\r\n    HttpService.patch$ = function (url, body, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.request$('PATCH', url, optionsWithBody_(options, body));\r\n    };\r\n    HttpService.post$ = function (url, body, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.request$('POST', url, optionsWithBody_(options, body));\r\n    };\r\n    HttpService.put$ = function (url, body, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.request$('PUT', url, optionsWithBody_(options, body));\r\n    };\r\n    HttpService.getError = function (error, response, request) {\r\n        if (!error.status) {\r\n            error.statusCode = (response === null || response === void 0 ? void 0 : response.status) || 0;\r\n        }\r\n        if (!error.statusMessage) {\r\n            error.statusMessage = (response === null || response === void 0 ? void 0 : response.statusText) || 'Unknown Error';\r\n        }\r\n        var options = {\r\n            error: error,\r\n            status: error.status,\r\n            statusText: error.statusText,\r\n            message: error.message,\r\n            request: request,\r\n        };\r\n        if (response) {\r\n            options.headers = response.headers;\r\n            options.status = options.status || response.status;\r\n            options.statusText = options.statusText || response.statusText;\r\n            options.url = response.url;\r\n        }\r\n        return new http_error_response_1.HttpErrorResponse(options);\r\n    };\r\n    HttpService.pendingRequests$ = new rxjs_1.BehaviorSubject(0);\r\n    // static handler: HttpHandler = new HttpFetchHandler();\r\n    HttpService.handler = new http_interceptor_1.HttpInterceptingHandler();\r\n    return HttpService;\r\n}());\r\nexports.default = HttpService;\r\nfunction optionsWithBody_(options, body) {\r\n    return Object.assign({}, options, { body: body });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar http_module_1 = require(\"./http.module\");\r\nObject.defineProperty(exports, \"HttpModule\", { enumerable: true, get: function () { return http_module_1.default; } });\r\nvar http_error_response_1 = require(\"./http/http-error-response\");\r\nObject.defineProperty(exports, \"HttpErrorResponse\", { enumerable: true, get: function () { return http_error_response_1.HttpErrorResponse; } });\r\nvar http_event_1 = require(\"./http/http-event\");\r\nObject.defineProperty(exports, \"HttpEventType\", { enumerable: true, get: function () { return http_event_1.HttpEventType; } });\r\nvar http_fetch_handler_1 = require(\"./http/http-fetch.handler\");\r\nObject.defineProperty(exports, \"HttpFetchHandler\", { enumerable: true, get: function () { return http_fetch_handler_1.HttpFetchHandler; } });\r\nvar http_handler_1 = require(\"./http/http-handler\");\r\nObject.defineProperty(exports, \"HttpHandler\", { enumerable: true, get: function () { return http_handler_1.HttpHandler; } });\r\nvar http_headers_1 = require(\"./http/http-headers\");\r\nObject.defineProperty(exports, \"HttpHeaders\", { enumerable: true, get: function () { return http_headers_1.HttpHeaders; } });\r\nvar http_interceptor_1 = require(\"./http/http-interceptor\");\r\nObject.defineProperty(exports, \"fetchHandler\", { enumerable: true, get: function () { return http_interceptor_1.fetchHandler; } });\r\nObject.defineProperty(exports, \"HttpInterceptingHandler\", { enumerable: true, get: function () { return http_interceptor_1.HttpInterceptingHandler; } });\r\nObject.defineProperty(exports, \"HttpInterceptorHandler\", { enumerable: true, get: function () { return http_interceptor_1.HttpInterceptorHandler; } });\r\nObject.defineProperty(exports, \"HttpInterceptors\", { enumerable: true, get: function () { return http_interceptor_1.HttpInterceptors; } });\r\nObject.defineProperty(exports, \"interceptingHandler\", { enumerable: true, get: function () { return http_interceptor_1.interceptingHandler; } });\r\nObject.defineProperty(exports, \"jsonpCallbackContext\", { enumerable: true, get: function () { return http_interceptor_1.jsonpCallbackContext; } });\r\nObject.defineProperty(exports, \"NoopInterceptor\", { enumerable: true, get: function () { return http_interceptor_1.NoopInterceptor; } });\r\nObject.defineProperty(exports, \"xhrHandler\", { enumerable: true, get: function () { return http_interceptor_1.xhrHandler; } });\r\nvar http_params_1 = require(\"./http/http-params\");\r\nObject.defineProperty(exports, \"HttpParams\", { enumerable: true, get: function () { return http_params_1.HttpParams; } });\r\nObject.defineProperty(exports, \"HttpUrlEncodingCodec\", { enumerable: true, get: function () { return http_params_1.HttpUrlEncodingCodec; } });\r\nvar http_request_1 = require(\"./http/http-request\");\r\nObject.defineProperty(exports, \"HttpRequest\", { enumerable: true, get: function () { return http_request_1.HttpRequest; } });\r\nvar http_response_1 = require(\"./http/http-response\");\r\nObject.defineProperty(exports, \"HttpHeaderResponse\", { enumerable: true, get: function () { return http_response_1.HttpHeaderResponse; } });\r\nObject.defineProperty(exports, \"HttpResponse\", { enumerable: true, get: function () { return http_response_1.HttpResponse; } });\r\nObject.defineProperty(exports, \"HttpResponseBase\", { enumerable: true, get: function () { return http_response_1.HttpResponseBase; } });\r\nvar http_xhr_handler_1 = require(\"./http/http-xhr.handler\");\r\nObject.defineProperty(exports, \"HttpXhrHandler\", { enumerable: true, get: function () { return http_xhr_handler_1.HttpXhrHandler; } });\r\nvar http_service_1 = require(\"./http/http.service\");\r\nObject.defineProperty(exports, \"HttpService\", { enumerable: true, get: function () { return http_service_1.default; } });\r\n","import { IServerVars } from \"../../../src/rxcomp-server\";\r\n\r\nexport const Vars: IServerVars = {\r\n\tname: 'rxcomp-server',\r\n\thost: '',\r\n\tresource: '/',\r\n\tapi: '/api',\r\n\tstatic: false,\r\n\tdevelopment: false,\r\n\tproduction: true,\r\n};\r\n\r\n/*\r\nexport const STATIC = window.location.port === '40333' || window.location.host === 'actarian.github.io';\r\nexport const DEVELOPMENT = ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1;\r\nexport const PRODUCTION = !DEVELOPMENT;\r\nexport const ENV = {\r\n\tNAME: 'ws-events',\r\n\tSTATIC,\r\n\tDEVELOPMENT,\r\n\tPRODUCTION,\r\n\tRESOURCE: '/Modules/Events/Client/docs/',\r\n\tSTATIC_RESOURCE: './',\r\n\tAPI: '/api',\r\n\tSTATIC_API: (DEVELOPMENT && !STATIC) ? '/Modules/Events/Client/docs/api' : './api',\r\n};\r\nexport function getApiUrl(url, useStatic) {\r\n\tconst base = (useStatic || STATIC) ? ENV.STATIC_API : ENV.API;\r\n\tconst json = (useStatic || STATIC) ? '.json' : '';\r\n\treturn `${base}${url}${json}`;\r\n}\r\nexport function getResourceRoot() {\r\n\treturn STATIC ? ENV.STATIC_RESOURCE : ENV.RESOURCE;\r\n}\r\nexport function getSlug(url) {\r\n\tif (!url) {\r\n\t\treturn url;\r\n\t}\r\n\tif (url.indexOf(`/${ENV.NAME}`) !== 0) {\r\n\t\treturn url;\r\n\t}\r\n\tif (STATIC) {\r\n\t\tconsole.log(url);\r\n\t\treturn url;\r\n\t}\r\n\turl = url.replace(`/${ENV.NAME}`, '');\r\n\turl = url.replace('.html', '');\r\n\treturn `/it/it${url}`;\r\n}\r\n*/\r\n","import { Component, errors$, IFactoryMeta } from 'rxcomp';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { HttpService } from '../../../../rxcomp-http/dist/cjs/rxcomp-http';\nimport { Vars } from './vars';\n\ninterface ITodoItem {\n\tid: number;\n\ttitle: string;\n\tcompleted: boolean;\n}\n\ninterface IGetTodos {\n\tgetTodos: ITodoItem[]\n}\n\ninterface IResponseData {\n\tdata: IGetTodos;\n}\n\nexport default class AppComponent extends Component {\n\titems: ITodoItem[] = [];\n\terror: any = null;\n\tonInit() {\n\t\t// console.log('AppComponent.onInit', this);\n\t\t/*\n\t\tconst payload = { query: `{ hello }` };\n\t\t*/\n\t\t/*\n\t\tconst payload = { query: `{ roll(dices: ${3}, sides: ${6}) }` };\n\t\t*/\n\t\t/*\n\t\tconst payload = {\n\t\t\tquery: `query ($dices: Int!, $sides: Int) {\n\t\t\troll(dices: $dices, sides: $sides)\n\t\t}`, variables: { dices: 3, sides: 6 }\n\t\t};\n\t\t*/\n\t\tconst payload = { query: `{ getTodos { id, title, completed } }` };\n\t\t/*\n\t\tHttpService.post$<IResponseData>(`${Vars.host}${Vars.api}`, payload, {\n\t\t\tparams: { query: `{ getTodos { id, title, completed } }` },\n\t\t\treportProgress: true\n\t\t}).pipe(\n\t\t*/\n\t\tconst methodUrl: string = `${Vars.host}${Vars.api}`;\n\t\t// console.log('methodUrl', methodUrl);\n\t\tHttpService.post$<IResponseData>(methodUrl, payload, { hydrate: true }).pipe(\n\t\t\tfirst(),\n\t\t).subscribe((response: IResponseData) => {\n\t\t\tthis.items = response.data.getTodos;\n\t\t\tthis.pushChanges();\n\t\t\t// console.log('AppComponent.getTodos', this.items);\n\t\t}, error => console.warn);\n\t\t// HttpService.get$(`https://jsonplaceholder.typicode.com/users/1/todos`).pipe(\n\t\t/*\n\t\tHttpService.get$(`${Vars.host}/data/todos.json`).pipe(\n\t\t\tfirst(),\n\t\t).subscribe(response => {\n\t\t\t// console.log('AppComponent.items', response);\n\t\t\tthis.items = response.data;\n\t\t\tthis.pushChanges();\n\t\t});\n\t\t*/\n\t\terrors$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(error => {\n\t\t\tthis.error = error;\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tonClick(item: { title: string, completed: boolean }) {\n\t\titem.completed = !item.completed;\n\t\tthis.pushChanges();\n\t}\n\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[app-component]',\n\t};\n}\n","\nimport { EMPTY, Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { HttpEvent, HttpHandler, HttpRequest, HttpResponse, IHttpInterceptor } from '../../../../../rxcomp-http/dist/cjs/rxcomp-http';\n\nconst cancelRequest: boolean = false;\n\nexport class CustomInterceptor implements IHttpInterceptor {\n\tintercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\t\tif (cancelRequest) {\n\t\t\treturn EMPTY;\n\t\t}\n\t\tconst clonedRequest = request.clone({\n\t\t\turl: request.url,\n\t\t});\n\t\t// console.log('CustomInterceptor.clonedRequest', clonedRequest);\n\t\treturn next.handle(clonedRequest);\n\t\treturn next.handle(request).pipe(\n\t\t\ttap(event => {\n\t\t\t\tif (event instanceof HttpResponse) {\n\t\t\t\t\tconsole.log('CustomInterceptor.status', event.status);\n\t\t\t\t\tconsole.log('CustomInterceptor.filter', request.params.get('filter'));\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n}\n","import { CoreModule, IModuleMeta, Module } from 'rxcomp';\nimport { HttpModule } from '../../../../rxcomp-http/dist/cjs/rxcomp-http';\nimport AppComponent from './app.component';\nimport { CustomInterceptor } from './custom-interceptor/custom.interceptor';\n\nexport default class AppModule extends Module {\n\n\tstatic meta: IModuleMeta = {\n\t\timports: [\n\t\t\tCoreModule,\n\t\t\tHttpModule.useInterceptors([CustomInterceptor]),\n\t\t],\n\t\tdeclarations: [\n\t\t],\n\t\tbootstrap: AppComponent,\n\t};\n\n}\n","import { Browser } from 'rxcomp';\r\nimport AppModule from './app.module';\r\n\r\nBrowser.bootstrap(AppModule);\r\n"]}