/**
 * @license rxcomp-server v1.0.0-beta.14
 * (c) 2020 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(t,e,n,r){"use strict";var o="default"in t?t.default:t,i="default"in n?n.default:n,a="default"in r?r.default:r;function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function c(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var f=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function d(t){return this instanceof d?(this.v=t,this):new d(t)}var v=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};var y,g=(y=Object.freeze({__proto__:null,__extends:function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},get __assign(){return l},__rest:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},__decorate:function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},__param:function(t,e){return function(n,r){e(n,r,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},__generator:function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},__createBinding:f,__exportStar:function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||f(e,t,n)},__values:p,__read:h,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},__await:d,__asyncGenerator:function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{(n=o[t](e)).value instanceof d?Promise.resolve(n.value.v).then(c,s):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function c(t){u("next",t)}function s(t){u("throw",t)}function l(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}},__asyncDelegator:function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:d(t[r](e)),done:"return"===r}:o?o(e):e}:o}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&f(e,t,n);return v(e,t),e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}))&&y.default||y,m=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e.prototype.onEnter=function(t){return i.of(!0)},e.prototype.onExit=function(t){return i.of(!0)},e}(o.Component);e.default=n})),_=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.LocationStrategyHash=e.LocationStrategyPath=e.decodeParam=e.encodeParam=e.LocationStrategy=void 0;var n=function(){function t(){}return t.prototype.serializeLink=function(t){var e=this,n=(Array.isArray(t)?t:[t]).map((function(t){return"string"==typeof t?t:e.encodeParams(t)})).join("/");return this.serializeUrl(n)},t.prototype.serializeUrl=function(t){return t},t.prototype.serialize=function(t){return""+t.prefix+t.path+t.search+t.hash},t.prototype.resolve=function(t,e){var n,r;void 0===e&&(e={});var o,i,a,u="",c="",s="",l="",f=t.matchAll(/^([^\?|\#]*)?(\?[^\#]*)?(\#[^\#]*?)?$/gm);try{for(var p=g.__values(f),h=p.next();!h.done;h=p.next()){var d=h.value,v=d[1],y=d[2],m=d[3];v&&(c=v),y&&(s=y),m&&(l=m)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}return u=u,c=c,s=s,l=l.substring(1,l.length),o=s.substring(1,s.length),i=c.split("/").filter((function(t){return""!==t})),a={},e.prefix=u,e.path=c,e.query=s,e.hash=l,e.search=o,e.segments=i,e.params=a,e},t.prototype.resolveParams=function(t,e){var n=this,r=t.split("/").filter((function(t){return""!==t})),o={};return e.forEach((function(t,e){var i=Object.keys(t.params);i.length&&(o[i[0]]=n.decodeParams(r[e]))})),o},t.prototype.encodeParams=function(t){var e;return"object"==typeof t?e=o.Serializer.encode(t,[o.encodeJson,o.encodeBase64,r]):"number"==typeof t&&(e=t.toString()),e},t.prototype.decodeParams=function(t){var e=t;if(0===t.indexOf(";"))try{e=o.Serializer.decode(t,[i,o.decodeBase64,o.decodeJson])}catch(n){e=t}else Number(t).toString()===t&&(e=Number(t));return e},t.prototype.encodeSegment=function(t){return this.encodeString(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")},t.prototype.decodeSegment=function(t){return this.decodeString(t.replace(/%28/g,"(").replace(/%29/g,")").replace(/\&/gi,"%26"))},t.prototype.encodeString=function(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")},t.prototype.decodeString=function(t){return decodeURIComponent(t.replace(/\@/g,"%40").replace(/\:/gi,"%3A").replace(/\$/g,"%24").replace(/\,/gi,"%2C"))},t.prototype.getPath=function(t){return t},t.prototype.getUrl=function(t,e){return t+(e?"?"+e.toString():"")},t.prototype.setHistory=function(t,e,n){if(o.isPlatformBrowser&&"undefined"!=typeof history&&history.pushState){var r=document.title;t=this.getUrl(t,e),n?history.replaceState(void 0,r,t):history.pushState(void 0,r,t)}},t}();function r(t){return";"+t}function i(t){return t.substring(1,t.length)}e.LocationStrategy=n,e.encodeParam=r,e.decodeParam=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e.prototype.serialize=function(t){return""+t.prefix+t.path+t.search+t.hash},e.prototype.resolve=function(t,e){var n,r;void 0===e&&(e={});var o,i,a,u="",c="",s="",l="",f=t.matchAll(/^([^\?|\#]*)?(\?[^\#]*)?(\#[^\#]*?)?$/gm);try{for(var p=g.__values(f),h=p.next();!h.done;h=p.next()){var d=h.value,v=d[1],y=d[2],m=d[3];v&&(c=v),y&&(s=y),m&&(l=m)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}return u=u,c=c,s=s,l=l.substring(1,l.length),o=s.substring(1,s.length),i=c.split("/").filter((function(t){return""!==t})),a={},e.prefix=u,e.path=c,e.query=s,e.hash=l,e.search=o,e.segments=i,e.params=a,e},e}(n);e.LocationStrategyPath=a;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e.prototype.serializeLink=function(t){var e=this,n=(Array.isArray(t)?t:[t]).map((function(t){return"string"==typeof t?t:e.encodeParams(t)})).join("/");return this.serializeUrl(n)},e.prototype.serializeUrl=function(t){var e=this.resolve(t,{});return this.serialize(e)},e.prototype.serialize=function(t){return""+t.prefix+t.search+t.hash+t.path},e.prototype.resolve=function(t,e){var n,r;void 0===e&&(e={});var o,i,a,u="",c="",s="",l="#",f=t.matchAll(/^([^\?|\#]*)?(\?[^\#]*)?(\#.*)$/gm);try{for(var p=g.__values(f),h=p.next();!h.done;h=p.next()){var d=h.value,v=d[1],y=d[2],m=d[3];v&&(u=v),y&&(s=y),m&&(c=m)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}return u=u,c=c.substring(1,c.length),l=l,o=s.substring(1,s.length),i=c.split("/").filter((function(t){return""!==t})),a={},e.prefix=u,e.path=c,e.query=s,e.hash=l,e.search=o,e.segments=i,e.params=a,e},e.prototype.getPath=function(t){return-1===t.indexOf("/#")?"/#"+t:t},e.prototype.getUrl=function(t,e){return(e?"?"+e.toString():"")+this.getPath(t)},e}(n);e.LocationStrategyHash=u})),b=c((function(t,e){function n(t){return t instanceof Promise||"object"==typeof t&&"then"in t&&"function"==typeof t.then}function r(t){return i.Observable.create((function(e){var r;try{var o=t();i.isObservable(o)?r=o.subscribe((function(t){e.next(t),e.complete()})):n(o)?o.then((function(t){e.next(t),e.complete()})):"boolean"==typeof o||Array.isArray(o)?(e.next(o),e.complete()):e.error(new Error("invalid value"))}catch(t){e.error(t)}return function(){r&&r.unsubscribe()}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=e.mapCanActivateChild$_=e.mapCanActivate$_=e.mapCanLoad$_=e.mapCanDeactivate$_=void 0,e.mapCanDeactivate$_=function(t){return function(e,n){return r((function(){return t.canDeactivate(e,n)}))}},e.mapCanLoad$_=function(t){return function(e,n){return r((function(){return t.canLoad(e,n)}))}},e.mapCanActivate$_=function(t){return function(e){return r((function(){return t.canActivate(e)}))}},e.mapCanActivateChild$_=function(t){return function(e){return r((function(){return t.canActivateChild(e)}))}},e.isPromise=n})),S=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RouteSegment=void 0;var n=function(t,e){void 0===e&&(e={}),this.path=t,this.params=e};e.RouteSegment=n})),x=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Route=void 0;var n=function t(e){var n,r,o=this;this.pathMatch="prefix",this.relative=!0,this.canDeactivate=[],this.canLoad=[],this.canActivate=[],this.canActivateChild=[],e&&(Object.assign(this,e),this.canDeactivate=e.canDeactivate?e.canDeactivate.map((function(t){return b.mapCanDeactivate$_(t)})):[],this.canLoad=e.canLoad?e.canLoad.map((function(t){return b.mapCanLoad$_(t)})):[],this.canActivate=e.canActivate?e.canActivate.map((function(t){return b.mapCanActivate$_(t)})):[],this.canActivateChild=e.canActivateChild?e.canActivateChild.map((function(t){return b.mapCanActivateChild$_(t)})):[]),this.children&&(this.children=this.children.map((function(e){var n=new t(e);return n.parent=o,n})));var i=[];if("**"===this.path)i.push(new S.RouteSegment(this.path)),this.matcher=new RegExp("^.*$");else{var a=["^(../|./|//|/)?"],u=this.path.matchAll(/(^\.\.\/|\.\/|\/\/|\/)|([^:|\/]+)\/?|\:([^\/]+)\/?/g);try{for(var c=g.__values(u),s=c.next();!s.done;s=c.next()){var l=s.value,f=l[1],p=l[2],h=l[3];if(f)this.relative=!("//"===f||"/"===f);else if(p)a.push(p),i.push(new S.RouteSegment(p));else if(h){a.push("(/[^/]+)");var d={};d[h]=null,i.push(new S.RouteSegment("",d))}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}"full"===this.pathMatch&&a.push("$");var v=a.join("");this.matcher=new RegExp(v)}this.segments=i};e.Route=n})),R=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RoutePath=void 0;var n=function(){function t(t,e,n,r){void 0===t&&(t=""),void 0===e&&(e=[]),this.prefix="",this.path="",this.query="",this.search="",this.hash="",this.locationStrategy=r||new _.LocationStrategy,this.url=t,this.routeSegments=e,this.route=n}return Object.defineProperty(t.prototype,"url",{get:function(){return this.url_},set:function(t){this.url_!==t&&(this.locationStrategy.resolve(t,this),this.url_=this.locationStrategy.serialize(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"routeSegments",{get:function(){return this.routeSegments_},set:function(t){this.routeSegments_!==t&&(this.routeSegments_=t,this.params=this.locationStrategy.resolveParams(this.path,t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remainUrl",{get:function(){return this.query+this.hash},enumerable:!1,configurable:!0}),t}();e.RoutePath=n})),P=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RouteSnapshot=void 0;var n=function(){function t(t){this.pathMatch="prefix",this.relative=!0,this.data$=new i.ReplaySubject(1),this.params$=new i.ReplaySubject(1),this.queryParams$=new i.ReplaySubject(1),this.canDeactivate=[],this.canLoad=[],this.canActivate=[],this.canActivateChild=[],t&&Object.assign(this,t),this.data$.next(this.data),this.params$.next(this.params),this.queryParams$.next(this.queryParams)}return t.prototype.next=function(t){this.childRoute=t.childRoute,t.childRoute&&(t.childRoute.parent=this);var e=this.data=Object.assign({},t.data);this.data$.next(e);var n=this.params=Object.assign({},t.params);this.params$.next(n);var r=this.queryParams=Object.assign({},t.queryParams);this.queryParams$.next(r)},t}();e.RouteSnapshot=n})),C=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationError=e.NavigationCancel=e.NavigationEnd=e.RouteConfigLoadEnd=e.RouteConfigLoadStart=e.ChildActivationEnd=e.ActivationEnd=e.ResolveEnd=e.ResolveStart=e.GuardsCheckEnd=e.ActivationStart=e.ChildActivationStart=e.GuardsCheckStart=e.RoutesRecognized=e.NavigationStart=e.RouterEvent=void 0;var n=function(t){t&&Object.assign(this,t),this.routerLink&&(this.url=Array.isArray(this.routerLink)?this.routerLink.join(""):this.routerLink)};e.RouterEvent=n;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.NavigationStart=r;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.RoutesRecognized=o;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.GuardsCheckStart=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.ChildActivationStart=a;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.ActivationStart=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.GuardsCheckEnd=c;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.ResolveStart=s;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.ResolveEnd=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.ActivationEnd=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.ChildActivationEnd=p;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.RouteConfigLoadStart=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.RouteConfigLoadEnd=d;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.NavigationEnd=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.NavigationCancel=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e}(n);e.NavigationError=m})),w=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t,"flatRoutes",{get:function(){return r(this.routes)},enumerable:!1,configurable:!0}),t.setRoutes=function(t){return this.routes=t.map((function(t){return new x.Route(t)})),this.observe$=l(this.routes,this.route$,this.events$,this.locationStrategy),this},t.setRouterLink=function(t,e){this.events$.next(new C.NavigationStart({routerLink:t,trigger:"imperative"}))},t.navigate=function(t,e){this.events$.next(new C.NavigationStart({routerLink:t,trigger:"imperative"}))},t.findRoute=function(t){var e=this.locationStrategy.serializeLink(t);return this.findRouteByUrl(e)},t.findRouteByUrl=function(t){var e,n,o=r(this.routes),i=null,a=Number.NEGATIVE_INFINITY;try{for(var u=g.__values(o),c=u.next();!c.done;c=u.next()){var s=c.value,l=t.match(s.matcher);l&&(!i||l[0].length>a)&&(a=l[0].length,i=s)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}var f=t;return i&&i.redirectTo&&(f=i.redirectTo,i=this.findRouteByUrl(f)),i},t.getPath=function(t){var e=this;void 0===t&&(t=[]);var n=(Array.isArray(t)?t:[t]).map((function(t){return"string"==typeof t?t:e.locationStrategy.encodeParams(t)})).join("/"),r=[],o=[],i=this.findRouteByUrl(n);if(i){for(var a=null==i?void 0:i.parent;a;)r.unshift.apply(r,a.segments),o.unshift(a instanceof P.RouteSnapshot?a:a.snapshot||a),a=a.parent;r.push.apply(r,(null==i?void 0:i.segments)||[]),o.push({path:n})}var u=o.map((function(t){return t instanceof P.RouteSnapshot?t.extractedUrl:t.path})).join("/");return u=this.locationStrategy.getPath(u),new R.RoutePath(u,r,i||void 0,this.locationStrategy)},Object.defineProperty(t,"locationStrategy",{get:function(){return this.locationStrategy_?this.locationStrategy_:this.locationStrategy_=new _.LocationStrategyPath},enumerable:!1,configurable:!0}),t.useLocationStrategy=function(t){this.locationStrategy_=new t},t.routes=[],t.route$=new i.ReplaySubject(1),t.events$=new i.ReplaySubject(1),t}();function r(t){return function t(e){return e.reduce((function(e,n){return e.push(n),e.push.apply(e,t(n.children||[])),e}),[])}(t)}function u(t,e,n){var r,o,i;try{for(var a=g.__values(e),u=a.next();!u.done;u=a.next()){var s=c(t,u.value,n);s&&(!i||s.remainUrl.length<i.remainUrl.length)&&(i=s)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i}function c(t,e,r){var o,i,a,c=r.match(e.matcher);if(c){if(e.redirectTo)return u(t,t,n.getPath(e.redirectTo).url);i=c[0],a=r.substring(c[0].length,r.length);var s=new R.RoutePath(i,e.segments,void 0,n.locationStrategy).params,l=new P.RouteSnapshot(g.__assign(g.__assign({},e),{initialUrl:r,urlAfterRedirects:undefined,extractedUrl:i,remainUrl:a,params:s}));if(e.snapshot=l,(null===(o=e.children)||void 0===o?void 0:o.length)&&a.length){var f=u(t,e.children,a);l.childRoute=f,f&&(f.parent=l)}return l}}function s(t,e){return i.combineLatest.apply(void 0,g.__spread(e)).pipe(a.map((function(e){var r=e.reduce((function(t,e){return!0===t?!0===e||e:t}),!0);if(!0===r)return t;var o=g.__assign(g.__assign({},t),{reason:"An activation guard has dismissed navigation to the route."});if(!1!==r){var i=n.getPath(r);o.redirectTo=[i.url]}return new C.NavigationCancel(o)})))}function l(t,e,c,l){var f,p=o.isPlatformServer?i.EMPTY:i.merge(i.fromEvent(o.WINDOW,"popstate")).pipe(a.tap((function(t){t.preventDefault(),history.go(1),console.log("RouterService.onPopState",'location: "'+document.location.pathname+'"','state: "'+t.state+'"')})),a.map((function(t){return new C.NavigationStart({routerLink:document.location.pathname,trigger:"popstate"})})),a.shareReplay(1));return i.merge(p,c).pipe(a.switchMap((function(t){return t instanceof C.GuardsCheckStart?function(t,e,n){if(e.route.canDeactivate&&e.route.canDeactivate.length){var r=e.route,a=o.getContextByNode(e.route.element).instance;return s(e,r.canDeactivate.map((function(t){return t(a,n)})))}return i.of(e)}(0,t,f).pipe(a.switchMap((function(e){return e instanceof C.NavigationCancel?i.of(e):function(t,e){if(e.route.canLoad&&e.route.canLoad.length){var n=e.route;return s(e,n.canLoad.map((function(t){return t(n,n.segments)})))}return i.of(e)}(0,t).pipe(a.switchMap((function(e){return e instanceof C.NavigationCancel?i.of(e):function(t,e){var n=function(t,e){for(;null!=t&&t.canActivateChild&&t.canActivateChild.length&&t.childRoute;){var n=t.canActivateChild.map((function(e){return e(t.childRoute)}));Array.prototype.push.apply(e,n),t=t.childRoute}return e}(e.route,[]);return n.length?s(e,n):i.of(e)}(0,t)})))}))):t instanceof C.ChildActivationStart?function(t,e){if(e.route.canActivate&&e.route.canActivate.length){var n=e.route;return s(e,n.canActivate.map((function(t){return t(n)})))}return i.of(e)}(0,t):i.of(t)})),a.tap((function(o){var i,a,s;if(o instanceof C.NavigationStart){var p=o.routerLink,h=void 0,d=void 0;0!==(d=n.getPath(p).url).indexOf("/")&&f&&(null===(i=f.children)||void 0===i?void 0:i.length)?(h=u(t,f.children,d))&&(f.childRoute=h,h.parent=f,h=f):h=u(t,t,d),h?(f=h,c.next(new C.RoutesRecognized(g.__assign(g.__assign({},o),{route:h})))):c.next(new C.NavigationError(g.__assign(g.__assign({},o),{error:new Error("unknown route")})))}else if(o instanceof C.RoutesRecognized)c.next(new C.GuardsCheckStart(g.__assign({},o)));else if(o instanceof C.GuardsCheckStart)c.next(new C.ChildActivationStart(g.__assign({},o)));else if(o instanceof C.ChildActivationStart)c.next(new C.ActivationStart(g.__assign({},o)));else if(o instanceof C.ActivationStart)c.next(new C.GuardsCheckEnd(g.__assign({},o)));else if(o instanceof C.GuardsCheckEnd)c.next(new C.ResolveStart(g.__assign({},o)));else if(o instanceof C.ResolveStart)c.next(new C.ResolveEnd(g.__assign({},o)));else if(o instanceof C.ResolveEnd)c.next(new C.ActivationEnd(g.__assign({},o)));else if(o instanceof C.ActivationEnd)c.next(new C.ChildActivationEnd(g.__assign({},o)));else if(o instanceof C.ChildActivationEnd)c.next(new C.RouteConfigLoadStart(g.__assign({},o)));else if(o instanceof C.RouteConfigLoadStart)c.next(new C.RouteConfigLoadEnd(g.__assign({},o)));else if(o instanceof C.RouteConfigLoadEnd)c.next(new C.NavigationEnd(g.__assign({},o)));else if(o instanceof C.NavigationEnd){for(var v=[],y=o.route;null!=y;)(null===(a=y.extractedUrl)||void 0===a?void 0:a.length)&&v.push(y.extractedUrl),y.childRoute?y=y.childRoute:((null===(s=y.remainUrl)||void 0===s?void 0:s.length)&&(v[v.length-1]=v[v.length-1]+y.remainUrl),y=void 0);var m=v.join("/").replace(/\/\//g,"/");console.log("NavigationEnd",o.route.initialUrl,o.route.extractedUrl,o.route.urlAfterRedirects),function(t,e){var n=function(t){for(var e=[t],n=t.childRoute;n;)e.push(n),n=n.childRoute;return e}(e);r(t).forEach((function(t){t.snapshot&&-1===n.indexOf(t.snapshot)&&(t.snapshot=void 0)}))}(t,o.route),l.setHistory(m,void 0,"popstate"===o.trigger),e.next(o.route)}else o instanceof C.NavigationCancel?(console.log("NavigationCancel",o.reason,o.redirectTo),o.redirectTo&&c.next(new C.NavigationStart({routerLink:o.redirectTo,trigger:"imperative"}))):o instanceof C.NavigationError&&console.log("NavigationError",o.error)})),a.catchError((function(t){return i.of(new C.NavigationError(g.__assign(g.__assign({},event),{error:t})))})),a.shareReplay(1))}e.default=n})),O=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=g.__importDefault(w),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),Object.defineProperty(e.prototype,"routerLink",{get:function(){return this.routerLink_},set:function(t){this.routerLink_=Array.isArray(t)?t:[t],this.segments=this.getSegments(this.routerLink_)},enumerable:!1,configurable:!0}),e.prototype.getSegments=function(t){var e=[];return t.forEach((function(t){var n,r;if("string"==typeof t){var o=t.matchAll(/([^:]+)|\:([^\/]+)/g),i=[];try{for(var a=g.__values(o),u=a.next();!u.done;u=a.next()){var c=u.value,s=c[1],l=c[2];if(s)i.push(s);else if(l){var f={};f[l]=null,i.push(f)}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}else e.push(new S.RouteSegment("",{}))})),e},e.prototype.onInit=function(){var t=this,e=o.getContext(this).node;i.fromEvent(e,"click").pipe(a.shareReplay(1)).pipe(a.takeUntil(this.unsubscribe$)).subscribe((function(e){var r={skipLocationChange:t.skipLocationChange,replaceUrl:t.replaceUrl,state:t.state};return n.default.setRouterLink(t.routerLink,r),e.preventDefault(),!1}))},e.prototype.onChanges=function(){var t=o.getContext(this).node,e=n.default.getPath(this.routerLink_);t.setAttribute("href",e.url)},e.meta={selector:"[routerLink],[[routerLink]]",inputs:["routerLink"]},e}(o.Directive);e.default=r})),j=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=g.__importDefault(O),r=g.__importDefault(w),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keys=[],e}return g.__extends(e,t),e.prototype.onChanges=function(){var t=o.getContext(this).node;t.classList.remove.apply(t.classList,this.keys);var e=[];if(this.isActive()){var n=this.routerLinkActive;if("object"==typeof n)for(var r in n)n[r]&&e.push(r);else"string"==typeof n&&(e=n.split(" ").filter((function(t){return t.length})))}t.classList.add.apply(t.classList,e),this.keys=e},e.prototype.isActive=function(){var t;return null!=(null===(t=r.default.getPath(this.host.routerLink).route)||void 0===t?void 0:t.snapshot)},e.meta={selector:"[routerLinkActive],[[routerLinkActive]]",hosts:{host:n.default},inputs:["routerLinkActive"]},e}(o.Directive);e.default=i})),L=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=g.__importDefault(m),r=g.__importDefault(w),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.route$_=new i.ReplaySubject(1),e}return g.__extends(e,t),Object.defineProperty(e.prototype,"route",{get:function(){return this.route_},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){var t,e=this;this.route$().pipe(a.switchMap((function(t){return e.factory$(t)})),a.takeUntil(this.unsubscribe$)).subscribe((function(){})),this.host&&this.route$_.next(null===(t=this.host.route)||void 0===t?void 0:t.childRoute)},e.prototype.onChanges=function(){var t;this.host&&this.route$_.next(null===(t=this.host.route)||void 0===t?void 0:t.childRoute)},e.prototype.route$=function(){var t=this;return(this.host?this.route$_:r.default.route$).pipe(a.filter((function(e){return t.route_=e,t.snapshot_&&e&&t.snapshot_.component===e.component?(t.snapshot_.next(e),!1):(t.snapshot_=e,!0)})))},e.prototype.factory$=function(t){var e=this,n=o.getContext(this),r=n.module,u=n.node,c=null==t?void 0:t.component;return this.factory_!==c?(this.factory_=c,this.onExit$_(this.element,this.instance).pipe(a.tap((function(){e.element&&(e.element.parentNode.removeChild(e.element),r.remove(e.element,e),e.element=void 0,e.instance=void 0)})),a.switchMap((function(){if(t&&c&&c.meta.template){var n=document.createElement("div");n.innerHTML=c.meta.template,1===n.children.length&&(n=n.firstElementChild),u.appendChild(n);var o=r.makeInstance(n,c,c.meta.selector,e,void 0,{route:t});return r.compile(n,o),e.instance=o,e.element=n,t.element=n,e.onEnter$_(n,o)}return i.of(!1)})))):i.of(!1)},e.prototype.onEnter$_=function(t,e){return t&&e&&e instanceof n.default?c([t],e.onEnter):i.of(!0)},e.prototype.onExit$_=function(t,e){return t&&e&&e instanceof n.default?c([t],e.onExit):i.of(!0)},e.meta={selector:"router-outlet,[router-outlet]",hosts:{host:e}},e}(o.Structure);function c(t,e){return i.Observable.create((function(n){var r;try{var o=e.apply(void 0,g.__spread(t));i.isObservable(o)?r=o.subscribe((function(t){n.next(t),n.complete()})):b.isPromise(o)?o.then((function(t){n.next(t),n.complete()})):"function"==typeof o?(n.next(o()),n.complete()):(n.next(o),n.complete())}catch(t){n.error(t)}return function(){r&&r.unsubscribe()}}))}e.default=u})),A=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=g.__importDefault(j),r=g.__importDefault(O),i=g.__importDefault(L),u=g.__importDefault(w),c=[i.default,r.default,n.default],s=[],l=function(t){function e(){var e=t.call(this)||this;return u.default.observe$.pipe(a.tap((function(t){var n;(t instanceof C.NavigationEnd||t instanceof C.NavigationCancel||t instanceof C.NavigationError)&&((null===(n=e.instances)||void 0===n?void 0:n.length)&&e.instances[0].pushChanges())})),a.takeUntil(e.unsubscribe$)).subscribe(),u.default.navigate(""+(""===location.pathname?"/":location.pathname)+location.search+location.hash),e}return g.__extends(e,t),e.forRoot=function(t){return u.default.setRoutes(t),this},e.useStrategy=function(t){return u.default.useLocationStrategy(t),this},e.meta={declarations:g.__spread(c,s),exports:g.__spread(c,s)},e}(o.Module);e.default=l})),E=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RouteLocationStrategy=void 0,function(t){t.Path="path",t.Hash="hash"}(e.RouteLocationStrategy||(e.RouteLocationStrategy={}))})),k=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.transition$=void 0,e.transition$=function(t){return i.Observable.create((function(e){try{o.isPlatformBrowser?t((function(t){e.next(t),e.complete()})):(e.next(!0),e.complete())}catch(t){e.error(t)}}))}})),$=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"View",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"LocationStrategy",{enumerable:!0,get:function(){return _.LocationStrategy}}),Object.defineProperty(e,"LocationStrategyHash",{enumerable:!0,get:function(){return _.LocationStrategyHash}}),Object.defineProperty(e,"LocationStrategyPath",{enumerable:!0,get:function(){return _.LocationStrategyPath}}),Object.defineProperty(e,"Route",{enumerable:!0,get:function(){return x.Route}}),Object.defineProperty(e,"RoutePath",{enumerable:!0,get:function(){return R.RoutePath}}),Object.defineProperty(e,"RouteSegment",{enumerable:!0,get:function(){return S.RouteSegment}}),Object.defineProperty(e,"RouteSnapshot",{enumerable:!0,get:function(){return P.RouteSnapshot}}),Object.defineProperty(e,"RouterModule",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"RouteLocationStrategy",{enumerable:!0,get:function(){return E.RouteLocationStrategy}}),Object.defineProperty(e,"ActivationEnd",{enumerable:!0,get:function(){return C.ActivationEnd}}),Object.defineProperty(e,"ActivationStart",{enumerable:!0,get:function(){return C.ActivationStart}}),Object.defineProperty(e,"ChildActivationEnd",{enumerable:!0,get:function(){return C.ChildActivationEnd}}),Object.defineProperty(e,"ChildActivationStart",{enumerable:!0,get:function(){return C.ChildActivationStart}}),Object.defineProperty(e,"GuardsCheckEnd",{enumerable:!0,get:function(){return C.GuardsCheckEnd}}),Object.defineProperty(e,"GuardsCheckStart",{enumerable:!0,get:function(){return C.GuardsCheckStart}}),Object.defineProperty(e,"NavigationCancel",{enumerable:!0,get:function(){return C.NavigationCancel}}),Object.defineProperty(e,"NavigationEnd",{enumerable:!0,get:function(){return C.NavigationEnd}}),Object.defineProperty(e,"NavigationError",{enumerable:!0,get:function(){return C.NavigationError}}),Object.defineProperty(e,"NavigationStart",{enumerable:!0,get:function(){return C.NavigationStart}}),Object.defineProperty(e,"ResolveEnd",{enumerable:!0,get:function(){return C.ResolveEnd}}),Object.defineProperty(e,"ResolveStart",{enumerable:!0,get:function(){return C.ResolveStart}}),Object.defineProperty(e,"RouteConfigLoadEnd",{enumerable:!0,get:function(){return C.RouteConfigLoadEnd}}),Object.defineProperty(e,"RouteConfigLoadStart",{enumerable:!0,get:function(){return C.RouteConfigLoadStart}}),Object.defineProperty(e,"RouterEvent",{enumerable:!0,get:function(){return C.RouterEvent}}),Object.defineProperty(e,"RoutesRecognized",{enumerable:!0,get:function(){return C.RoutesRecognized}}),Object.defineProperty(e,"RouterLinkActiveDirective",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"RouterLinkDirective",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"RouterOutletStructure",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"transition$",{enumerable:!0,get:function(){return k.transition$}})})),N=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.onInit=function(){t.getContext(this).node.classList.add("init")},n}(t.Component);N.meta={selector:"[app-component]"};var M=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),I=function(){function t(){}return t.prototype.intercept=function(t,n){return n.handle(t).pipe(r.tap((function(n){n instanceof e.HttpResponse&&(console.log("CustomResponseInterceptor.status",n.status),console.log("CustomResponseInterceptor.filter",t.params.get("filter")))})))},t}(),U=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onInit=function(){},e}(t.Component);U.meta={selector:"[not-found-component]",template:'\n        <div class="page-not-found">\n            <div class="title">Not Found</div>\n        </div>\n        '};var D=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var o=e.prototype;return o.onInit=function(){var t=this;console.log("TodolistItemComponent.onInit",this.route),n.combineLatest(this.route.data$,this.route.params$).pipe(r.takeUntil(this.unsubscribe$)).subscribe((function(e){t.title=e[0].title,t.itemId=e[1].itemId}))},o.onEnter=function(t){return $.transition$((function(e){gsap.set(t,{opacity:0}),gsap.to(t,{opacity:1,duration:1,ease:Power3.easeInOut,onComplete:function(){e(!0)}})}))},o.onExit=function(t){return $.transition$((function(e){gsap.set(t,{opacity:1}),gsap.to(t,{opacity:0,duration:1,ease:Power3.easeInOut,onComplete:function(){e(!0)}})}))},e}($.View);D.meta={selector:"[detail-component]",template:'\n        <div class="page-detail">\n            <div class="title">Todolist Item {{itemId}}</div>\n        </div>\n        '};var T="",z="/api",G=function(n){function o(){var t;return(t=n.apply(this,arguments)||this).items=[],t.error=null,t}u(o,n);var i=o.prototype;return i.onInit=function(){var n=this,o=""+T+z;console.log("TodolistComponent.onInit",this),e.HttpService.post$(o,{query:"{ getTodos { id, title, completed } }"},{params:{query:"{ getTodos { id, title, completed } }"},reportProgress:!1}).pipe(r.first()).subscribe((function(t){n.items=t.data.getTodos,n.pushChanges()}),(function(t){return console.warn}));var i=this.host.route;i&&i.data$.pipe(r.takeUntil(this.unsubscribe$)).subscribe((function(t){n.title=t.title})),t.errors$.pipe(r.takeUntil(this.unsubscribe$)).subscribe((function(t){n.error=t,n.pushChanges()}))},i.onClick=function(t){t.completed=!t.completed,this.pushChanges()},o}(t.Component);G.meta={selector:"[todolist-component]",hosts:{host:$.RouterOutletStructure},template:'\n        <div class="page-todolist">\n\t\t\t<div class="title">{{title}}</div>\n\t\t\t\x3c!-- {{items | json}} --\x3e\n\t\t\t<ul class="list">\n\t\t\t\t<li class="list__item" *for="let item of items" [class]="{ completed: item.completed }" [style]="{ \'border-color\': item.completed ? \'red\' : \'black\' }">\n\t\t\t\t\t<div class="title" [routerLink]="[\'/todolist\', item.id]" [innerHTML]="item.title"></div>\n\t\t\t\t\t\x3c!-- <div class="completed" [innerHTML]="item.completed"></div> --\x3e\n\t\t\t\t\t<div class="completed" (click)="onClick(item)">{{item.completed}}</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div *if="error">\n\t\t\t\t<span>error => {{error | json}}</span>\n\t\t\t</div>\n        </div>\n        '};var q=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(t.Module);q.meta={imports:[t.CoreModule,e.HttpModule.useInterceptors([M,I]),$.RouterModule.forRoot([{path:"",redirectTo:"/todolist",pathMatch:"full"},{path:"todolist",component:G,data:{title:"Todolist"}},{path:"todolist/:itemId",component:D,data:{title:"Todolist Item"}},{path:"**",component:U}]).useStrategy($.LocationStrategyHash)],declarations:[G,D,U],bootstrap:N},t.Browser.bootstrap(q)}(rxcomp,rxcomp.http,rxjs,rxjs.operators);
//# sourceMappingURL=main.min.js.map